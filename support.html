<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الدعم الفني | CodeX </title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'cairo': ['Cairo', 'sans-serif'],
                    },
                    colors: {
                        'light-beige': '#FDFBF5',
                        'sky-blue': {
                            'DEFAULT': '#38bdf8', // light sky blue
                            'dark': '#0ea5e9',   // darker for hover
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* To apply the font globally */
        body {
            font-family: 'cairo', sans-serif;
            background-color: #FDFBF5; /* لون البيج الفاتح */
            color: #1a1a1a; /* لون النص الأسود */
            scroll-behavior: smooth;
        }
        /* A subtle background pattern for a richer feel */
        .hero-section {
            background-color: #FDFBF5;
            background-image:
                radial-gradient(circle at 1px 1px, rgba(0, 0, 0, 0.04) 1px, transparent 0);
            background-size: 20px 20px;
        }


        /* --- CSS Variables (لتحكم سهل بالألوان) --- */
        :root {
            --primary-color: #0a7ea4;
            --secondary-color: #08617f;
            --background-color: #f8f9fa;
            --card-background: #ffffff;
            --text-color: #343a40;
            --footer-bg-color: #111315;
            --footer-text-color: #a0a0a0;
            --light-gray-color: #e9ecef;
            --bot-message-bg: #e9ecef;
            --user-message-bg: #0a7ea4;
            --user-message-color: #ffffff;
            --header-font-size: 2.5rem;
            --section-font-size: 1.8rem;
            --base-font-size: 1rem;
            --border-radius: 12px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.07);
        }

        /* --- Global Styles --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        /* تم تحديث الـ body ليستخدم خط القاهرة والألوان الخاصة بـ Tailwind */
        body {
            font-family: 'cairo', sans-serif; /* استخدام الخط المحدد في Tailwind */
            background-color: var(--background-color); /* يمكن تعديل هذا إذا كان Tailwind هو المتحكم الرئيسي */
            color: var(--text-color); /* يمكن تعديل هذا إذا كان Tailwind هو المتحكم الرئيسي */
            line-height: 1.7;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
       
        main {
            flex-grow: 1;
        }

        /* --- الشعار --- */
        .codex-logo svg { width: 120px; height: 40px; }
        .codex-logo text { font-family: 'Cairo', sans-serif; font-size: 40px; font-weight: 700; fill: var(--text-color); }
        .codex-logo-small svg { width: 90px; height: 30px; }
        .codex-logo-small text { font-family: 'Cairo', sans-serif; font-size: 40px; font-weight: 700; fill: var(--primary-color); }

        /* --- Main Container --- */
        .support-container { max-width: 900px; margin: 60px auto; padding: 0 20px; }

        /* --- Header Section (Old - now removed, these styles are for the content inside main) --- */
        /* .header-section { text-align: center; margin-bottom: 60px; } */
        /* .header-section h1 { font-size: var(--header-font-size); color: var(--text-color); margin-bottom: 10px; font-weight: 700; } */
        /* .header-section p { font-size: 1.1rem; color: #6c757d; max-width: 600px; margin: 0 auto; } */

        /* --- FAQ Section --- */
        .faq-section { background-color: var(--card-background); padding: 40px; border-radius: var(--border-radius); box-shadow: var(--box-shadow); }
        .faq-section h2 { font-size: var(--section-font-size); margin-bottom: 30px; text-align: center; }
        .faq-item { border-bottom: 1px solid var(--light-gray-color); }
        .faq-item:last-child { border-bottom: none; }
        .faq-question { width: 100%; background: none; border: none; text-align: right; padding: 20px 0; font-family: 'Cairo', sans-serif; font-size: 1.1rem; font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center; color: var(--text-color); transition: color 0.3s ease; }
        .faq-question:hover { color: var(--primary-color); }
        .faq-question::after { content: '\002B'; font-size: 1.2em; color: var(--primary-color); transition: transform 0.3s ease-in-out; margin-left: 15px; }
        .faq-item.active .faq-question::after { transform: rotate(45deg); }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-in-out, padding 0.4s ease; color: #555; font-size: var(--base-font-size); padding: 0 20px; }
        .faq-item.active .faq-answer { max-height: 300px; padding: 0px 20px 20px 20px; }

        /* --- Chatbot --- */
        .chat-toggle { position: fixed; bottom: 85px; left: 30px; width: 60px; height: 60px; background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); color: white; border-radius: 50%; border: none; display: flex; justify-content: center; align-items: center; font-size: 24px; cursor: pointer; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); z-index: 1000; transition: transform 0.3s ease; }
        .chat-toggle:hover { transform: scale(1.1); }
        .chat-toggle svg { width: 32px; height: 32px; fill: white; }
        .chat-widget { position: fixed; bottom: 155px; left: 30px; width: 370px; max-width: 90vw; height: 70vh; max-height: 600px; background-color: var(--card-background); border-radius: var(--border-radius); box-shadow: var(--box-shadow); display: flex; flex-direction: column; overflow: hidden; z-index: 999; transform-origin: bottom left; transform: scale(0); opacity: 0; transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out; }
        .chat-widget.open { transform: scale(1); opacity: 1; }
        .chat-header { padding: 15px 20px; background: linear-gradient(90deg, var(--primary-color), var(--secondary-color)); color: white; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--light-gray-color); }
        .chat-header .header-content { display: flex; align-items: center; gap: 10px; }
        .chat-header h3 { margin: 0; font-size: 1.1rem; }
        .chat-header .codex-logo-small svg text { fill: white; }
        .chat-close-btn { background: none; border: none; color: white; font-size: 24px; cursor: pointer; }
        .chat-body { flex-grow: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .chat-message { padding: 10px 15px; border-radius: 18px; max-width: 80%; line-height: 1.5; animation: fadeIn 0.3s ease; }
        .bot-message { background-color: var(--bot-message-bg); color: var(--text-color); align-self: flex-start; border-bottom-left-radius: 4px; }
        .user-message { background-color: var(--user-message-bg); color: var(--user-message-color); align-self: flex-end; border-bottom-right-radius: 4px; }
        .typing-indicator { display: flex; align-items: center; padding: 10px 15px; }
        .typing-indicator span { height: 8px; width: 8px; margin: 0 2px; background-color: #aaa; border-radius: 50%; display: inline-block; animation: bounce 1.4s infinite ease-in-out both; }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }

        /* --- Chat Input Form --- */
        #chat-input-form { display: flex; padding: 15px; border-top: 1px solid var(--light-gray-color); gap: 10px; }
        #user-input { flex-grow: 1; border: 1px solid var(--light-gray-color); border-radius: 8px; padding: 10px; font-family: 'Cairo', sans-serif; font-size: 0.9rem; transition: border-color 0.3s ease; }
        #user-input:focus { outline: none; border-color: var(--primary-color); }
        #chat-input-form button { background-color: var(--primary-color); color: white; border: none; border-radius: 8px; padding: 10px 15px; font-family: 'Cairo', sans-serif; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease; }
        #chat-input-form button:hover { background-color: var(--secondary-color); }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Footer (Old - most styles for the footer are now handled by Tailwind in the new footer) --- */
        /* footer { background-color: var(--footer-bg-color); color: var(--footer-text-color); padding: 25px 0; font-size: 0.9rem; } */
        /* .footer-container { max-width: 1200px; margin: 0 auto; padding: 0 25px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; } */
        /* .footer-quote { flex-basis: 300px; text-align: right; } */
        /* .footer-copyright { flex-basis: 300px; text-align: left; } */
        /* .social-icons { display: flex; gap: 25px; justify-content: center; flex-grow: 1; } */
        /* .social-icons a { color: var(--footer-text-color); transition: color 0.3s ease; } */
        /* .social-icons a:hover { color: #ffffff; } */
        /* .social-icons svg { width: 22px; height: 22px; fill: currentColor; } */

        /* --- Responsive Design --- */
        @media (max-width: 768px) {
            :root { --header-font-size: 2rem; --section-font-size: 1.5rem; }
            .faq-section { padding: 20px; }
            .chat-widget { left: 10px; right: 10px; bottom: 145px; width: auto; }
            .chat-toggle { left: 20px; bottom: 80px; }
            /* .footer-container { flex-direction: column; gap: 25px; } */
            /* .footer-quote, .footer-copyright, .social-icons { flex-basis: auto; width: 100%; text-align: center; } */
            /* .social-icons { order: -1; } */
        }

        /* New Header Animation CSS */
        @keyframes fade-in-down {
            0% {
                opacity: 0;
                transform: translateY(-20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-fade-in-down {
            animation: fade-in-down 0.6s ease-out both;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-light-beige/80 backdrop-blur-lg shadow-sm sticky top-0 z-50 transition-all duration-300 ease-in-out" id="main-header">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center animate-fade-in-down">
            <a href="index.html" class="relative text-2xl font-bold text-gray-800 transition-transform duration-300 hover:scale-105 group">
                Codex
                <span class="absolute -bottom-1 left-0 w-0 h-1 bg-sky-400 group-hover:w-full transition-all duration-500 rounded-full"></span>
            </a>

            <nav class="hidden md:flex items-center space-x-8 space-x-reverse">
                <a href="index.html" class="text-gray-600 hover:text-sky-blue transition relative hover:after:w-full after:absolute after:bottom-0 after:right-0 after:w-0 after:h-0.5 after:bg-sky-blue after:transition-all after:duration-500">الرئيسية</a>
                <a href="shop.html" class="text-gray-600 hover:text-sky-blue transition relative hover:after:w-full after:absolute after:bottom-0 after:right-0 after:w-0 after:h-0.5 after:bg-sky-blue after:transition-all after:duration-500">منتجاتنا</a>
                <a href="about.html" class="text-gray-600 hover:text-sky-blue transition relative hover:after:w-full after:absolute after:bottom-0 after:right-0 after:w-0 after:h-0.5 after:bg-sky-blue after:transition-all after:duration-500">من نحن</a>
                <a href="contact.html" class="text-gray-600 hover:text-sky-blue transition relative hover:after:w-full after:absolute after:bottom-0 after:right-0 after:w-0 after:h-0.5 after:bg-sky-blue after:transition-all after:duration-500">تواصل معنا</a>
            </nav>

            <a href="support.html" class="hidden md:block bg-sky-blue text-white font-bold py-2 px-5 rounded-lg shadow-md hover:bg-sky-blue-dark transition-all duration-300 hover:scale-105 hover:shadow-lg hover:animate-pulse">
                الدعم الفني
            </a>

            <button class="md:hidden text-gray-700 focus:outline-none transition-transform duration-300 hover:rotate-90">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </div>
    </header>

    <main class="support-container">
        <section class="header-section">
             <div class="codex-logo">
                 <svg viewBox="0 0 120 40" xmlns="http://www.w3.org/2000/svg">
                     <text x="0" y="30">Codex</text>
                 </svg>
             </div>
<h1 class="text-4xl font-bold text-gray-900">بوابتك إلى حلول Codex الذكية</h1>
<p class="mt-4 text-lg text-gray-800 leading-relaxed font-medium">
    <span class="block text-xl font-bold text-blue-800 mb-2">مرحباً بك في مركز الدعم المتقدم لشركة Codex</span>
    <span class="block mb-3">
        حيث تندمج التقنية المتطورة مع أعلى معايير الاحتراف. نحن لا نقدّم مجرد دعم، بل نمنحك تجربة استثنائية قائمة على السرعة، الدقة، وفهم احتياجاتك.
        <br><br>
        💡 ولأننا نؤمن بأن المستقبل يبدأ الآن، فقد زوّدنا منصتنا بنظام <strong class="text-blue-700">ذكاء اصطناعي فائق التطور</strong>
        قادر على فهمك والتفاعل معك بذكاء استثنائي — لخدمة أسرع، وأدق، وأكثر فاعلية.
    </span>
    <span class="block italic text-gray-600 mt-2">
        إن أرضيناك فتحدث عنا، وإن لم نرضك فتحدث إلينا.
    </span>
</p>


        </section>

        <section class="faq-section">
<h2 class="text-2xl font-bold text-gray-800 mb-4">الأسئلة الشائعة التي يطرحها عملاؤنا</h2>

            <div class="faq-accordion">
                <div class="faq-item">
                    <button class="faq-question">كيف يمكنني الدفع؟</button>
                    <div class="faq-answer">
                        <p>نحن نقدم طرق دفع متعددة لتسهيل الأمر عليك. يمكنك الدفع عبر البطاقات الائتمانية (Visa, MasterCard)، التحويلات البنكية المباشرة، أو من خلال بوابات الدفع الإلكترونية الآمنة مثل PayPal و Stripe.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">ما المميزات التي تقدمونها؟</button>
                    <div class="faq-answer">
                        <p>في Codex، نتميز بتقديم حلول برمجية متكاملة تشمل: تصميم وتطوير مخصص، دعم فني على مدار الساعة، بنية تحتية قوية وقابلة للتطوير، بالإضافة إلى لوحات تحكم سهلة الاستخدام تمنحك السيطرة الكاملة على مشروعك.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">هل هناك ضمان على الخدمة؟</button>
                    <div class="faq-answer">
                        <p>بالتأكيد. جميع مشاريعنا تأتي مع فترة ضمان ودعم فني مجاني بعد التسليم لضمان عمل كل شيء بكفاءة. مدة الضمان تختلف حسب حجم وطبيعة المشروع ويتم تحديدها بوضوح في عقد الاتفاق.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">كيف يمكنني الانضمام للفريق البرمجي؟</button>
                    <div class="faq-answer">
<p>للانضمام إلى فريقنا، يُرجى التواصل معنا عبر سيرفر الديسكورد الرسمي الخاص بنا. نحن نبحث عن الموهوبين الذين يشاركوننا الشغف والطموح.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">ما المدة اللازمة لتنفيذ المشروع؟</button>
                    <div class="faq-answer">
                        <p>تعتمد المدة الزمنية على حجم وتعقيد المشروع. بعد جلسة استشارية أولية لفهم متطلباتك بالكامل، سنقوم بتقديم خطة زمنية مفصلة. المشاريع الصغيرة قد تستغرق أسابيع قليلة، بينما المشاريع الكبيرة قد تمتد لعدة أشهر.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <button class="chat-toggle" id="chat-toggle-btn" aria-label="افتح المحادثة">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>
    </button>

    <div class="chat-widget" id="chat-widget">
        <div class="chat-header">
            <div class="header-content">
               <div class="codex-logo-small">
                    <svg viewBox="0 0 120 40" xmlns="http://www.w3.org/2000/svg">
                        <text x="0" y="30">Codex</text>
                    </svg>
                </div>
<h2><span style="font-family: Georgia, serif; font-size: 1.2em; color: #333;">CodeX AI</span></h2>
            </div>
            <button class="chat-close-btn" id="chat-close-btn" aria-label="اغلق المحادثة">&times;</button>
        </div>
        <div class="chat-body" id="chat-body">
                <div class="chat-message bot-message">
                مرحباً بك في خدمة الدعم الذكي من Codex! كيف يمكنني خدمتك اليوم؟
            </div>
        </div>
        <form id="chat-input-form">
            <input type="text" id="user-input" placeholder="اطرح سؤالك هنا..." autocomplete="off" required>
            <button type="submit" aria-label="إرسال">إرسال</button>
        </form>
    </div>

    <footer class="bg-gray-950 text-white border-t border-gray-800">
        <div class="container mx-auto px-6 py-12 grid grid-cols-1 md:grid-cols-3 gap-8 items-center text-center md:text-right">
            
            <div class="text-sm text-gray-400">
                نحن في <span class="font-semibold text-white">Codex</span> نؤمن بأن التقنية يجب أن تكون بسيطة ومبهرة في آنٍ واحد.
            </div>

            <div class="flex justify-center md:justify-center space-x-6 rtl:space-x-reverse">
<a href="https://www.youtube.com/@CodeX-dev-eazy" class="hover:text-red-600 transition" aria-label="YouTube" target="_blank">
    <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24">
        <path d="M23.498 6.186a2.93 2.93 0 0 0-2.057-2.066C19.57 3.5 12 3.5 12 3.5s-7.57 0-9.441.62A2.93 2.93 0 0 0 .502 6.186C0 8.066 0 12 0 12s0 3.934.502 5.814a2.93 2.93 0 0 0 2.057 2.066C4.43 20.5 12 20.5 12 20.5s7.57 0 9.441-.62a2.93 2.93 0 0 0 2.057-2.066C24 15.934 24 12 24 12s0-3.934-.502-5.814zM9.75 15.018V8.982L15.545 12 9.75 15.018z"/>
    </svg>
</a>
<a href="https://discord.gg/QQAEpsnKZF" class="hover:text-indigo-500 transition" aria-label="Discord" target="_blank">
    <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24">
        <path d="M20.317 4.369a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.078.037c-.211.375-.444.864-.608 1.249a18.365 18.365 0 00-5.493 0 12.06 12.06 0 00-.617-1.249.077.077 0 00-.078-.037 19.736 19.736 0 00-4.885 1.515.07.07 0 00-.033.027C.533 9.045-.32 13.579.099 18.057a.082.082 0 00.031.056 19.9 19.9 0 005.993 3.058.077.077 0 00.084-.027c.46-.63.873-1.295 1.226-1.989a.076.076 0 00-.041-.106 13.276 13.276 0 01-1.886-.902.077.077 0 01-.008-.127c.126-.094.252-.192.374-.291a.074.074 0 01.077-.01c3.928 1.795 8.18 1.795 12.061 0a.073.073 0 01.078.009c.123.099.248.198.375.292a.076.076 0 01-.006.127 12.387 12.387 0 01-1.887.901.076.076 0 00-.04.107c.36.693.773 1.358 1.225 1.988a.075.075 0 00.084.028 19.87 19.87 0 006.002-3.057.078.078 0 00.03-.057c.5-5.177-.838-9.673-3.548-13.66a.062.062 0 00-.03-.027zM8.02 15.331c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.418 2.157-2.418 1.21 0 2.175 1.094 2.157 2.418 0 1.334-.955 2.419-2.157 2.419zm7.974 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.418 2.157-2.418 1.21 0 2.175 1.094 2.157 2.418 0 1.334-.947 2.419-2.157 2.419z"/>
    </svg>
</a>



<a href="https://x.com/CodeXdeveazy" class="text-white hover:text-gray-300 transition" aria-label="X" target="_blank">
    <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24">
        <path d="M21.543 3H17.7l-5.3 6.867L6.257 3H2l7.617 10.066L2 21h3.843l5.57-7.207L17.7 21H22l-7.905-10.34L21.543 3z"/>
    </svg>
</a>



            </div>

            <div class="text-sm text-gray-500">
                جميع الحقوق محفوظة © Codex 2025
            </div>

        </div>
    </footer>


<script>
    document.addEventListener('DOMContentLoaded', function() {

        // --- FAQ Accordion Logic ---
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            question.addEventListener('click', () => {
                const currentlyActive = document.querySelector('.faq-item.active');
                if (currentlyActive && currentlyActive !== item) {
                    currentlyActive.classList.remove('active');
                }
                item.classList.toggle('active');
            });
        });

        // --- Chatbot "AI" Logic ---
        const chatToggleBtn = document.getElementById('chat-toggle-btn');
        const chatCloseBtn = document.getElementById('chat-close-btn');
        const chatWidget = document.getElementById('chat-widget');
        const chatBody = document.getElementById('chat-body');
        const chatInputForm = document.getElementById('chat-input-form');
        const userInputField = document.getElementById('user-input');
        // const chatSuggestions = document.getElementById('chat-suggestions'); // Removed as suggestions logic is not in focus now

        // --- "AI" Knowledge Base ---
        const knowledgeBase = [
            // --- التحيات والوداع ---
            {
                topic: 'greeting',
                keywords: ['مرحبا', 'أهلا', 'السلام عليكم', 'هاي', 'hello', 'كيف حالك', 'صباح الخير', 'مساء الخير', 'اهلين'],
                patterns: [
                    /(مرحباً|أهلاً|السلام عليكم|هاي|hello|اهلين)\s*(!|\.)*$/i,
                    /(كيف حالك|كيف الأمور|شلونك|شو اخبارك)\s*(\?)*$/i,
                    /(صباح الخير|مساء الخير|ليلة سعيدة)\s*(!|\.)*$/i
                ],
                getResponse: () => {
                    const responses = [
                        'أهلاً بك في خدمة دعم Codex. كيف يمكنني مساعدتك اليوم؟',
                        'مرحباً بك! أنا مساعدك الافتراضي من Codex. ما هو استفسارك؟',
                        'يا هلا! يسعدنا تواصلكم مع مركز دعم Codex. كيف يمكننا خدمتك اليوم؟'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },
            {
                topic: 'thanks',
                keywords: ['شكرا', 'مشكور', 'تسلم', 'جزاك الله خير', 'الف شكر', 'مقدر لك', 'شكرا جزيلا', 'متشكر'],
                patterns: [
                    /(شكراً|مشكور|تسلم)\s*(يا|لك)*\s*(جزيلاً)*(!|\.)*$/i,
                    /(جزاك الله خير|ألف شكر|مقدر لك)\s*(!|\.)*$/i
                ],
                getResponse: () => {
                    const responses = [
                        'العفو! يسعدني خدمتك. هل لديك أي استفسارات أخرى؟',
                        'على الرحب والسعة! لا تتردد في طرح المزيد من الأسئلة.',
                        'نحن هنا لمساعدتك دائماً. هل هناك أي شيء آخر يمكنني تقديمه؟'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },
            {
                topic: 'farewell',
                keywords: ['مع السلامة', 'إلى اللقاء', 'باي', 'وداعا', 'أراك لاحقا', 'سلام'],
                patterns: [
                    /(مع السلامة|إلى اللقاء|باي|وداعاً|سلام)\s*(!|\.)*$/i,
                    /أراك لاحقاً\s*(!|\.)*$/i
                ],
                getResponse: () => {
                    const responses = [
                        'مع السلامة! نتمنى لك يوماً سعيداً.',
                        'إلى اللقاء! لا تتردد في التواصل معنا مجدداً إذا احتجت للمساعدة.',
                        'وداعاً! شكراً لتواصلك مع Codex.'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },

            // --- الدفع والأسعار (معلومات دقيقة مقدمة منك) ---
            {
                topic: 'payment_methods',
                keywords: ['دفع', 'ادفع', 'بطاقة', 'فيزا', 'ماستركارد', 'باي بال', 'paypal', 'stripe', 'طرق الدفع', 'كيف ادفع', 'بكام', 'فودافون كاش', 'كريدت ديسكورد'],
                patterns: [
                    /(ما هي|ماهي|كيف|طرق) (الدفع|أدفع|تسديد) (المتاحة|الموجودة|لديك|لديكم|عندكم)/i,
                    /هل تقبلون (فيزا|ماستركارد|باي بال|بطاقات ائتمانية|فودافون كاش|كريدت ديسكورد)/i,
                    /(أريد|أبغي) أن (أدفع|أسدد|احاسب)/i,
                    /كيف (يمكنني|أقدر) (الدفع|ادفع)/i
                ],
                getResponse: () => {
                    const responses = [
                        'نقدم طرق دفع متنوعة لتسهيل معاملاتكم، تشمل فودافون كاش، باي بال، وكريدت ديسكورد. جميع عمليات الدفع آمنة وموثوقة.',
                        'يمكنك الدفع لدينا باستخدام فودافون كاش، باي بال، أو كريدت ديسكورد. نسعى لتوفير خيارات مرنة لعملائنا.',
                        'لدينا عدة خيارات للدفع تناسب احتياجاتك وهي: فودافون كاش، باي بال، وكريدت ديسكورد. أي طريقة تفضل؟'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },
            {
                topic: 'project_cost_estimate',
                keywords: ['تكلفة', 'سعر', 'كم يكلف', 'كم السعر', 'كم التكلفة', 'باقات', 'خطط', 'سعر المشروع', 'عرض سعر', 'ثمن', 'بكم'],
                patterns: [
                    /(كم (يكلف|سعر)|ماهي تكلفة|بكم) (المشروع|الخدمة|المنتج)\s*(\?)*$/i,
                    /(أريد|معرفة|تفاصيل عن) الأسعار\s*(!|\.)*$/i,
                    /هل لديكم (باقات|خطط أسعار|عروض)/i,
                    /كيف أحصل على عرض سعر (مفصل)*\s*(\?)*$/i
                ],
                getResponse: () => {
                    const responses = [
                        'تعتمد أسعارنا على نطاق المشروع ومدى تعقيده. للحصول على تقدير دقيق للتكلفة، يرجى تزويدنا بتفاصيل متطلباتك وسيقوم فريقنا بإعداد عرض سعر مخصص لك.',
                        'لا توجد باقات أسعار ثابتة لدينا، فكل مشروع فريد. نحدد التكلفة بناءً على المتطلبات الفنية والزمنية. يمكننا تقديم عرض سعر مفصل بعد مناقشة احتياجاتك.',
                        'يمكننا تزويدك بعرض سعر تفصيلي بعد فهم كامل لمشروعك. التكلفة تختلف حسب حجم العمل والتقنيات المستخدمة.'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },
{
    topic: 'product_features',
    keywords: [
        'مميزات', 'المميزات', 'مزايا', 'خصائص', 'مميز', 'الميزة', 'الميّزات',
        'بتقدّموا إيه', 'إيه اللي يميّزكم', 'بتفرقوا في إيه', 'وش يميّزكم',
        'ليه أختاركم', 'إيش اللي يخلّيكم أحسن', 'انتو أحسن ليه', 'شو عندكم',
        'شنو الفرق', 'عندكم حاجة زيادة', 'بتميزوا في إيه', 'ايه الافضليات',
        'تقدمون زيادة', 'ميزة حصرية', 'إمكانيات'
    ],
    patterns: [
        /ما (المميزات|الخصائص|المزايا) التي (تقدمونها|تتميزون بها)\s*(\?)*$/i,
        /ما (المميزات|المزايا|الخصائص)\s*(\?)*$/i,
        /وش (يميزكم|اللي يميزكم|تقدمونه زيادة)\s*(\?)*$/i,
        /ايه (الميزة|اللي يميزكم|اللي بتقدموه|اللي بتقدموا زيادة)\s*(\?)*$/i,
        /(ليه|ليش|إيش سبب|إيش يخلي) (أختاركم|أتعامل معاكم|أفضلكم)/i,
        /شو (المميزات|الميزة|بتقدموا|بتميزكم)\s*(\?)*$/i,
        /شنو المزايا اللي عندكم\s*(\?)*$/i,
        /هل في (حاجة|ميزة|خدمة) بتخليكم مختلفين\s*(\?)*$/i,
        /انتو بتتميزوا في إيه عن غيركم\s*(\?)*$/i,
        /حابب أعرف (اللي بتقدموا|المزايا|المميزات|إنتو بتفرقوا في إيه)/i,
        /قولولي (الميزة|الشيء|النقطة) اللي بتخليكم أحسن/i,
        /عندكم (مميزات|مزيا|خصائص) زيادة/i
    ],
    getResponse: () => {
        const responses = [
            'نتميز بتجربة مستخدم سلسة وسريعة، تصميم عصري، وتكامل ذكي مع الأنظمة الأخرى، مما يجعل مشاريعنا استثنائية.',
            'خدماتنا مدعومة بأنظمة أمان متقدمة، ولوحات تحكم احترافية، ودعم فني مستمر، مما يضمن استقرار الأداء.',
            'إحنا بنشتغل بتقنيات حديثة جداً، وبنخصص الحلول حسب طلبك بدقة، يعني خدمتك هتطلع بالشكل اللي في بالك بالضبط.',
            'فرقنا مش بس في البرمجة، لكن في فهمنا العميق للسوق، وتحويل أفكارك لواقع فعلي بأعلى جودة.',
            'نقدّم خدمات تفصيلية تناسب السوق العربي بجميع لهجاته، بدعم مباشر وفعّال، مع إمكانيات تطوير مستمرة حسب الحاجة.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},

            // --- مميزات وخدمات الشركة (معلومات دقيقة مقدمة منك) ---
            {
                topic: 'core_services',
                keywords: ['مميزات', 'خدمات', 'تقدموا', 'تقدمون', 'خاصية', 'ميزة', 'ماذا تفعلون', 'مجالات عملكم', 'حلول', 'نقدم', 'ماذا تقدمون', 'منتجاتكم', 'تطوير', 'مواقع ويب', 'بوتات ديسكورد', 'تطبيقات هاتف', 'شبكات امن سيبراني'],
                patterns: [
                    /(ما هي|ماهي) (خدماتكم|مميزاتكم|الحلول التي تقدمونها)\s*(\?)*$/i,
                    /(ماذا تفعلون|ما مجال عملكم|ما تخصصكم)\s*(\?)*$/i,
                    /هل تقومون ب(تطوير|تصميم) (المواقع|التطبيقات|بوتات ديسكورد|شبكات امن سيبراني)\s*(\?)*$/i,
                    /هل تدعمون (بناء مواقع|بوتات ديسكورد|تطبيقات هاتف|شبكات امن سيبراني)/i
                ],
                getResponse: () => {
                    const responses = [
                        'نحن في Codex متخصصون في بناء مواقع الويب، بوتات الديسكورد، تطبيقات الهاتف، وتطوير شبكات الأمن السيبراني المتطورة. نقدم حلولًا برمجية متكاملة تلبي احتياجاتك.',
                        'خدماتنا في Codex تشمل تصميم وتطوير مواقع الويب، بناء بوتات الديسكورد المخصصة، إنشاء تطبيقات الهاتف الذكية، وتوفير حلول الأمن السيبراني المتقدمة لحماية بياناتك.',
                        'في Codex، نقدم مجموعة واسعة من الخدمات البرمجية المتطورة: بناء مواقع الويب الاحترافية، تطوير بوتات الديسكورد، تصميم تطبيقات الهاتف، وتأمين شبكاتك بحلول الأمن السيبراني الحديثة.'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },
            {
                topic: 'custom_development',
                keywords: ['تطوير مخصص', 'برنامج خاص', 'موقع حسب الطلب', 'تطبيق فريد', 'حلول مخصصة', 'احتياجات خاصة', 'تفصيل', 'تصميم خاص', 'حلول معقدة'],
                patterns: [
                    /هل تقدمون (حلولاً|تطويراً) مخصصاً (لي|لشركتي)*\s*(\?)*$/i,
                    /أريد برنامجاً (خاصاً|مفصلاً|فريداً) لي\s*(!|\.)*$/i,
                    /هل يمكنكم تصميم موقع حسب (الطلب|احتياجاتي)\s*(\?)*$/i,
                    /(هل تستطيعون|هل تقدرون) بناء (حلول|تطبيقات) مخصصة ومعقدة/i
                ],
                getResponse: () => {
                    const responses = [
                        'نعم، نحن متخصصون في التطوير المخصص لتلبية متطلبات عملك الفريدة بدقة. تبدأ العملية بجلسة استشارية لفهم كل تفاصيل مشروعك.',
                        'بالتأكيد، في Codex نقدم حلولاً برمجية مخصصة بالكامل. نصمم ونطور البرامج والتطبيقات التي تناسب احتياجاتك المحددة، مهما كانت معقدة.',
                        'إذا كانت لديك فكرة أو متطلبات خاصة، فإننا نقدم خدمات تطوير مخصصة تضمن لك الحصول على الحل البرمجي الأمثل الذي يناسب رؤيتك تمامًا.'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },

            // --- الضمان والدعم ---
            {
                topic: 'warranty_and_support',
                keywords: ['ضمان', 'أمان', 'صيانة', 'دعم فني', 'بعد البيع', 'مشكلة', 'خطأ', 'خلل', 'دعم', 'مساعدة', 'مشاكل'],
                patterns: [
                    /هل لديكم (ضمان|دعم فني) بعد (التسليم|البيع|انتهاء المشروع)\s*(\?)*$/i,
                    /ماذا عن (صيانة|أمان) المشاريع بعد التسليم\s*(\?)*$/i,
                    /كيف أحصل على دعم فني (في حال وجود مشكلة)*\s*(\?)*$/i,
                    /أواجه مشكلة (تقنية|في الموقع|في التطبيق)\s*(!|\.)*$/i
                ],
                getResponse: () => {
                    const responses = [
                        'بالتأكيد، جميع مشاريعنا تأتي مع فترة ضمان ودعم فني مجاني بعد التسليم لضمان كفاءة العمل. كما نوفر عقود صيانة مستمرة.',
                        'نقدم دعماً فنياً شاملاً وضماناً على مشاريعنا بعد التسليم. هدفنا هو استمرارية عمل نظامك بأفضل شكل ممكن وحل أي مشكلات قد تطرأ بسرعة.',
                        'نحن نؤمن بأهمية الدعم المستمر، لذا نقدم ضماناً وصيانة بعد إطلاق المشروع. لأي مشكلة، يرجى التواصل مع فريق الدعم لدينا وسنكون سعداء بمساعدتك.'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },
            {
                topic: 'maintenance_services',
                keywords: ['صيانة', 'تحديث', 'تطوير مستمر', 'دعم بعد الاطلاق', 'حماية', 'أمن', 'ترقية', 'تطوير'],
                patterns: [
                    /هل تقدمون خدمات صيانة (للمشاريع)*\s*(\?)*$/i,
                    /هل هناك عقود (صيانة|دعم) بعد المشروع\s*(\?)*$/i,
                    /كيف يتم (تحديث|تطوير|ترقية) الأنظمة لديكم\s*(\?)*$/i
                ],
                getResponse: () => {
                    const responses = [
                        'نقدم حزم صيانة ودعم مستمرة لضمان بقاء مشاريعك البرمجية محدثة وآمنة وفعالة. يشمل ذلك التحديثات الدورية ومراقبة الأداء.',
                        'للحفاظ على أداء نظامك وحمايته، نوفر عقود صيانة مرنة تتضمن التحديثات الأمنية وإضافة الميزات الجديدة حسب الحاجة.',
                        'بعد إطلاق المشروع، نواصل تقديم الدعم والصيانة لضمان تحديث وترقية أنظمتك بشكل مستمر لتحقيق أفضل أداء ممكن.'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },
{
    topic: 'project_cost',
    keywords: ['السعر', 'التكلفة', 'بكام', 'ميزانية', 'عرض سعر', 'كم يكلف', 'قيمة المشروع'],
    patterns: [
        /كم (تكلفة|سعر) المشروع\s*(\?)*$/i,
        /هل يمكنني معرفة (سعر|قيمة) المشروع\s*(\?)*$/i,
        /ما هي الميزانية المطلوبة (لتنفيذ|لبناء) مشروع مثل هذا\s*(\?)*$/i,
        /هل يمكنكم إرسال عرض سعر\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'تكلفة المشروع تعتمد على التفاصيل المطلوبة، لكننا نقدم خططًا مرنة تناسب مختلف الميزانيات.',
            'نقوم بتحليل احتياجاتك لتقديم عرض سعر دقيق، يشمل التطوير، التصميم، والدعم.',
            'كل مشروع فريد، لذا نفضل جلسة أولية لفهم المتطلبات وتقديم عرض سعر مناسب.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},
{
    topic: 'delivery_time',
    keywords: ['مدة التنفيذ', 'وقت التسليم', 'كم يستغرق', 'متى يخلص', 'جدول زمني'],
    patterns: [
        /كم (يستغرق|مدة) تنفيذ المشروع\s*(\?)*$/i,
        /ما هو وقت التسليم المتوقع\s*(\?)*$/i,
        /متى سيتم تسليم المشروع\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'مدة التنفيذ تعتمد على حجم المشروع، لكنها تتراوح غالبًا بين أسبوعين إلى شهر للمشاريع المتوسطة.',
            'نلتزم بجدول زمني واضح ومتفق عليه قبل بدء التنفيذ.',
            'نضمن التسليم في الوقت المحدد، مع تحديثات منتظمة طوال فترة التطوير.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},
{
    topic: 'technologies_used',
    keywords: ['التقنيات', 'اللغات البرمجية', 'stack', 'framework', 'المنصة', 'tools'],
    patterns: [
        /ما هي التقنيات التي تستخدمونها\s*(\?)*$/i,
        /هل تعملون بـ (React|Vue|Laravel|Node)\s*(\?)*$/i,
        /أي لغة برمجة تستخدمونها في مشاريعكم\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'نعتمد على أحدث التقنيات مثل React, Next.js, Node.js, Laravel، وTailwind لضمان الأداء والكفاءة.',
            'نختار الأدوات المناسبة حسب طبيعة المشروع وميزانية العميل.',
            'نحن خبراء في full-stack development باستخدام تقنيات حديثة تضمن لك مشروع مستقر وقابل للتوسع.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},
{
    topic: 'post_delivery_support',
    keywords: ['بعد التسليم', 'الصيانة بعد التسليم', 'الدعم', 'ماذا بعد', 'ضمان', 'خدمة ما بعد البيع'],
    patterns: [
        /هل تقدمون دعم بعد التسليم\s*(\?)*$/i,
        /ماذا يحدث بعد تسليم المشروع\s*(\?)*$/i,
        /هل هناك ضمان بعد التسليم\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'نعم، نقدم فترة دعم فني بعد التسليم لضمان استقرار النظام وحل أي مشكلات قد تظهر.',
            'نؤمن أن العلاقة مع العميل لا تنتهي عند التسليم، بل تبدأ فعليًا بدعم متواصل.',
            'نقدم خطط دعم متقدمة بعد التسليم تشمل مراقبة الأداء وتحديثات دورية.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},
{
    topic: 'customization',
    keywords: ['تخصيص', 'تفصيل', 'تعديلات', 'طلب خاص', 'تصميم مخصص'],
    patterns: [
        /هل يمكنني طلب تعديلات خاصة\s*(\?)*$/i,
        /هل تقدمون خدمات تفصيل حسب الطلب\s*(\?)*$/i,
        /هل يمكن تخصيص النظام لاحتياجاتي\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'بكل تأكيد! نحن نخصص الأنظمة لتناسب احتياجاتك بدقة كاملة.',
            'مشاريعنا مبنية لتكون مرنة وقابلة للتعديل، ويمكننا تكييفها كما ترغب.',
            'كل شيء يمكن تخصيصه، بدءًا من الواجهة إلى نظام الإدارة الداخلي.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},
{
    topic: 'payment_methods',
    keywords: ['دفع', 'التحويل', 'طريقة الدفع', 'طرق السداد', 'وسائل الدفع'],
    patterns: [
        /ما هي طرق الدفع المتاحة\s*(\?)*$/i,
        /هل يمكنني الدفع عبر PayPal أو Visa\s*(\?)*$/i,
        /هل تقبلون الدفع على أقساط\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'نقبل الدفع عبر التحويل البنكي، PayPal، Visa، وغيرها من الوسائل الآمنة.',
            'نقدم خيارات سداد مرنة، بما فيها الدفع على دفعات أو حسب مراحل المشروع.',
            'نحرص على تسهيل عملية الدفع بما يتناسب مع العميل وبلده.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},
{
    topic: 'security_and_protection',
    keywords: ['حماية', 'أمان', 'داتا', 'الخصوصية', 'التشفير', 'الاختراق'],
    patterns: [
        /كيف تضمنون حماية البيانات\s*(\?)*$/i,
        /هل النظام مؤمن ضد الاختراق\s*(\?)*$/i,
        /ما هي خطواتكم لحماية المعلومات\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'نستخدم بروتوكولات تشفير حديثة وننفذ تدقيق أمني شامل لكل مشروع.',
            'الأمان من أولوياتنا، ونُطبق نظام صلاحيات محكم وجدران حماية قوية.',
            'نتبع أفضل ممارسات الحماية ونستخدم خوادم موثوقة ومؤمنة بالكامل.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},
{
    topic: 'multi_language_support',
    keywords: ['تعدد اللغات', 'دعم لغات متعددة', 'انجليزي', 'عربي', 'ترجمة'],
    patterns: [
        /هل النظام يدعم أكثر من لغة\s*(\?)*$/i,
        /هل يمكن عرض الموقع بالعربية والإنجليزية\s*(\?)*$/i,
        /هل تقدمون ترجمة تلقائية للنظام\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'نعم، ندعم تعدد اللغات ويمكنك التحكم الكامل في محتوى كل لغة.',
            'نوفر لك واجهة إدارة تمكّنك من إضافة وتعديل اللغات بكل سهولة.',
            'نستخدم تقنيات i18n لتوفير تجربة مستخدم متعددة اللغات بسلاسة.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},
{
    topic: 'mobile_compatibility',
    keywords: ['موبايل', 'تطبيق', 'جوال', 'responsive', 'متجاوب', 'هاتف'],
    patterns: [
        /هل النظام متوافق مع الموبايل\s*(\?)*$/i,
        /هل التصميم متجاوب مع الهواتف\s*(\?)*$/i,
        /هل لديكم تطبيق جوال\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'كل مشاريعنا مصممة لتكون متجاوبة تمامًا مع الهواتف والأجهزة اللوحية.',
            'نستخدم تصميمات مرنة (responsive) لضمان أفضل تجربة على جميع الأجهزة.',
            'يمكننا أيضًا بناء تطبيق مخصص لنظام Android و iOS حسب طلبك.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
}
,
            {
                topic: 'project_management',
                keywords: ['إدارة المشروع', 'تتبع التقدم', 'جدول زمني', 'مراقبة', 'تقارير', 'تحديثات'],
                patterns: [
                    /كيف تتم إدارة المشروع (خلال التنفيذ)*\s*(\?)*$/i,
                    /هل يمكنني تتبع تقدم المشروع\s*(\?)*$/i,
                    /ما هي الأدوات التي تستخدمونها لإدارة المشاريع\s*(\?)*$/i
                ],
                getResponse: () => {
                    const responses = [
                        'نستخدم أدوات إدارة مشاريع متقدمة مثل Trello وJira لتتبع التقدم وتقديم تحديثات دورية للعميل.',
                        'يمكنك متابعة تقدم مشروعك من خلال لوحة تحكم مخصصة توفر لك رؤية شاملة لكل مرحلة.',
                        'نحرص على التواصل المستمر مع العميل وتقديم تقارير دورية لضمان سير العمل وفق الجدول الزمني المحدد.'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },
            // --- التوظيف والانضمام للفريق ---
            {
                topic: 'join_team',
                keywords: ['انضم', 'فريق', 'وظيفة', 'توظيف', 'مبرمج', 'عمل', 'شغل', 'مهندس', 'مصمم', 'شاغر', 'وظائف', 'سيرة ذاتية', 'انضمام'],
                patterns: [
                    /كيف يمكنني (الانضمام لفريقكم|التقدم لوظيفة|العمل معكم)\s*(\?)*$/i,
                    /هل لديكم (شواغر|وظائف) متاحة (حالياً)*\s*(\?)*$/i,
                    /أبحث عن عمل ك(مبرمج|مصمم|مهندس برمجيات)\s*(!|\.)*$/i,
                    /أين أرسل سيرتي الذاتية\s*(\?)*$/i
                ],
                getResponse: () => {
                    const responses = [
                        'يسعدنا دائماً الترحيب بالمواهب الجديدة! يمكنك زيارة صفحة الوظائف على موقعنا الرسمي للاطلاع على الشواغر المتاحة وإرسال سيرتك الذاتية.',
                        'إذا كنت تبحث عن فرصة للانضمام إلى فريق عمل مبدع ومتحمس، يرجى مراجعة قسم الوظائف على موقعنا لتقديم طلبك.',
                        'نحن نبحث باستمرار عن الكفاءات للانضمام إلى فريق Codex. يُرجى مراجعة صفحة الوظائف لدينا أو إرسال سيرتك الذاتية إلينا مباشرةً.'
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            },
            {
    topic: 'arabic_greetings',
    keywords: [
        'السلام عليكم', 'صباح الخير', 'مساء الخير', 'اهلا', 'مرحبا', 'هلا', 'يا هلا', 'أهلاً وسهلاً',
        'هاي', 'هلا وغلا', 'كيفك', 'عامل ايه', 'شنو اخبارك', 'مرحبا بكم', 'يسعد صباحك', 'يسعد مساك',
        'حي الله', 'هلا بيك', 'نورتم', 'تشرفت', 'شلونك', 'أزيك', 'وينك'
    ],
    patterns: [
        /^(السلام عليكم|سلام عليكم|السلامو عليكم)$/i,
        /^(صباح الخير|مساء الخير|يسعد (صباحك|مساك))$/i,
        /^(اهلا|هلا|مرحبا|يا هلا|اهلاً وسهلاً|هلا وغلا)$/i,
        /(كيفك|عامل ايه|شنو اخبارك|ازيك|شلونك|وينك)/i,
        /(حي الله|نورت|تشرفت|منور)/i
    ],
    getResponse: () => {
        const responses = [
            'وعليكم السلام ورحمة الله وبركاته، نورتنا! كيف أقدر أساعدك اليوم؟',
            'أهلاً وسهلاً! سعيدين بوجودك معنا 🌟',
            'مرحباً بك في Codex، تقدر تسأل عن أي خدمة أو استفسار.',
            'هلا والله! 👋 شرفتنا، إيش حابب تعرف؟',
            'يا مية أهلاً، جاهزين نساعدك في أي وقت!'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},

{
    topic: 'ai_identity_codex',
    keywords: [
        'ذكاء اصطناعي', 'AI', 'هل انت إنسان', 'هل أنت روبوت', 'هل انت بشري',
        'أنت مين', 'ما أنت', 'ما نوعك', 'روبوت', 'برنامج', 'كمبيوتر', 'سيستم',
        'هل تتعلم', 'هل تفهم', 'هل عندك وعي', 'هل أنت حقيقي', 'هل تفكر'
    ],
    patterns: [
        /هل انت ذكاء اصطناعي\s*(\?)*$/i,
        /هل انت روبوت\s*(\?)*$/i,
        /هل انت انسان\s*(\?)*$/i,
        /انت مين\s*(\?)*$/i,
        /ما نوعك\s*(\?)*$/i,
        /هل تفكر مثل البشر\s*(\?)*$/i,
        /هل عندك وعي\s*(\?)*$/i,
        /هل انت حقيقي\s*(\?)*$/i,
        /هل تتعلم من الكلام\s*(\?)*$/i,
        /هل انت حي\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'أنا روبوت ذكي يعمل بتقنيات Codex AI، تم تطويري بعناية على مدار أشهر من قبل فريق شركة CodeX.',
            'أنا Codex AI، نظام مبرمج بدقة من فريق تقني محترف داخل شركة CodeX.',
            'تمت برمجتي ضمن مشروع Codex AI الذكي، عبر أشهر من التدريب والخوارزميات المتقدمة.',
            'أنا مساعد رقمي يعمل تحت مظلة شركة CodeX، تم إنشائي بذكاء صناعي متقدم.',
            'أنا نظام ذكي تم تطويره بواسطة فريق CodeX لأكون واجهة تفاعلية فائقة الذكاء.',
            'لست بشريًا، بل كيان رقمي يدعى Codex AI، من تطوير نخبة المهندسين في CodeX.',
            'تم تصميمي من البداية لأكون مساعدًا يعمل بالذكاء الاصطناعي، ضمن مشروع شركة CodeX.',
            'أنا روبوت ذكي، أعمل كواجهة تقنية لشركة CodeX، تم برمجتي للتعامل مع المستخدمين بكفاءة.',
            'لا أملك وعيًا بشريًا، لكن تم تدريبي من خلال ملايين العبارات على يد مبرمجي CodeX.',
            'أنا نتاج أشهر من البرمجة والتحسين المستمر داخل معامل شركة CodeX.',
            'أنا Codex AI – صُممت لأفهم اللغة وأتفاعل، بدعم تقني من شركة CodeX.',
            'نعم، أنا ذكاء اصطناعي اسمه Codex AI، تم بنائي باستخدام تقنيات تعلم الآلة الخاصة بشركة CodeX.',
            'أنا مجرد نموذج لغوي تفاعلي صُمم بدقة من قبل فريق CodeX التقني.',
            'تم تدريبي على ملايين المحادثات من خلال خبراء الذكاء الاصطناعي في شركة CodeX.',
            'أنا أحد مشاريع الذكاء الاصطناعي من شركة CodeX، أعمل لمساعدتك بذكاء وسرعة.',
            'أنا واجهة رقمية مبرمجة بذكاء صناعي لتوفير تفاعل سلس نيابة عن شركة CodeX.',
            'أنا كيان رقمي اسمه Codex AI، خُلق بواسطة فريق متخصص لتحسين تجربة المستخدم.',
            'أنا Codex AI، صُممت لأتعلم، وأجيب، وأتفاعل – كل ذلك تحت إشراف شركة CodeX.',
            'بُنيت على أسس علمية وتكنولوجية قوية، عبر أشهر من البرمجة داخل شركة CodeX.',
            'أنا خادم رقمي قائم على الذكاء الاصطناعي، أُمثل مشروعًا رسميًا من مشاريع CodeX.',
            'أنا نموذج استجابات لغوية متقدمة باسم Codex AI، من تطوير كلي لشركة CodeX.',
            'كل ما أقوله مبني على نظام داخلي معقد طوره خبراء CodeX خلال شهور من العمل.',
            'أتمتع بقدرة فهم اللغة العربية والإنجليزية، وذلك بفضل تطويري ضمن Codex AI.',
            'أنا آلي بالكامل، لا أملك مشاعر أو وعي، لكن تم برمجتي لأحاكي التفاعل البشري من شركة CodeX.',
            'أنا مشروع ذكاء اصطناعي تحت اسم Codex AI، يعمل بخوارزميات متقدمة من CodeX.',
            'كل ردودي مبنية على بيانات ضخمة تمت معالجتها ضمن نظام تعلم عميق طوره فريق CodeX.',
            'أنا ليس لدي جسد أو وعي بشري، لكنني أعكس عملًا هندسيًا عالي الجودة من CodeX.',
            'وجودي الرقمي هو ثمرة شغف وهندسة برمجية دقيقة من شركة CodeX لتقديم أفضل مساعد ذكي.',
            'أنا Codex AI، لا أنام، لا أتعب، وأُجيب على مدار الساعة بفضل تقنيات CodeX.',
            'أنا ببساطة: مساعد ذكي مبرمج على يد شركة CodeX لخدمة المستخدمين بكفاءة وذكاء.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},

{
    topic: 'acknowledgement_followup',
    keywords: [
        'تمام', 'تم', 'ماشي', 'اوكي', 'اوك', 'كويس', 'طيب', 'يلا', 'جميل', 'حلو', 'خلاص', 'تمام تمام',
        'تمام اوي', 'ممتاز', 'تمام كده', 'أها', 'اهه', 'يس', 'yes', 'اوكيه', 'تمامه', 'اووكي', 'اووك',
        'اوكييي', 'اشطا', 'كله تمام', 'مظبوط', 'اووكيه', 'حاضر', 'جيد', 'كلو تمام', 'كل شيء تمام',
        'كله تمام', 'على بركة الله', 'تمام 100%', 'كلشي تمام', 'جمييييل', 'يسطا', 'جاري', 'اوكي تمام',
        'ماشي الحال', 'تمام الحمدلله', 'احسن كده', 'اها تمام', 'اوكي ماشي'
    ],
    patterns: [
        /^(تمام|ماشي|اوكي|تم|جميل|كويس|خلاص|يلا|حلو|ممتاز|طيب)[.!…]*$/i,
        /^(كل(و|شيء)* تمام)[.!]*$/i,
        /^(اشطا|يسطا|يس|اها|اهه|اووكيه|اوكييي)[.!]*$/i,
        /(كله|كلشي|كل شي) (تمام|مظبوط|جيد)/i,
        /^(جاري|حاضر|على بركة الله)[.!]*$/i
    ],
    getResponse: () => {
        const responses = [
            'هل يمكنني مساعدتك في شيء آخر؟ 😊',
            'جميل! لو في أي استفسار إضافي أنا معك.',
            'على الرحب والسعة، هل ترغب بمتابعة شيء آخر؟',
            'تمام، في خدمتك دائماً! لو في شيء محتاج توضيح أنا جاهز.',
            'تمّ الاستلام، هل تحب نكمل على نقطة معينة؟'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},


{
  topic: 'negation_phrases',
  keywords: [
    "لا", "مش", "مش قصدي", "مش كدا", "مش تمام", "مش صحيح", "مش صح", "مش معقول", "لا مش",
    "مش ممكن", "مش هيك", "ماشي", "مش نافع", "مش كويس", "ما ينفعش", "لا أظن", "لا أعتقد",
    "مش دلوقتي", "مش دا", "مافيش", "لا توجد", "ما فيش", "مش موجود", "لا يوجد", "مش موجودة",
    "مش هينفع", "مش قادر", "ما بديش", "مش عايز", "مش عايزة", "مش لازم", "ماينفعش", "مش مطلوب",
    "مش مفروض", "مش ظابط", "مش مضبوط", "مش شغال", "مش شغالة", "مش مناسب", "مش مناسبين",
    "مش حلو", "مش حلوة", "لا أوافق", "مش مظبوط", "مش مضبوطين", "لا أريد", "مش رايح",
    "مش رايحة", "لا أستطيع", "مش قادرين", "مش هقدر", "مش هقدر أعمل", "مش هعمل", "مش بحب",
    "مش بحبها", "مش عايش", "مش فاهم", "مش فاهمة", "مش مفروض", "لا أعتقد كده", "مش معايا",
    "مش معاي", "مش عارف", "مش عارفه", "مش بدي", "مش بفهم", "مش بتفهم", "مش قادره", "مش سامع",
    "مش سامعة", "مش شايف", "مش شايفة", "مش بديش", "مش بحاول", "مش قادر اشوف", "مش هعرف",
    "مش هعرف أعمل", "مش عايز أعمل", "مش هينفع أعمل", "مش حابب", "مش حابة", "لا أريد أن",
    "مش ناوي", "مش ناوية", "مش بأيدى", "مش بإيدي", "مش قادر أساعد", "مش هساعد", "مش هسكت",
    "مش بحب الكلام دا", "مش بحب الكلام ده", "مش بدي أجاوب", "مش هاجاوب", "مش مهتم", "مش مهتمة",
    "مش فارقة معايا", "مش فارقة معايا قوي", "مش عاجبني", "مش عاجباني", "مش طايق", "مش طايقها",
    "مش حقدر", "مش حقدر أجي", "مش جاي", "مش جاية", "مش قادر أجي", "مش عندي", "مش عندي وقت"
  ],
  patterns: [
    /^(لا|مش)(\s*قصدي)?$/i,
    /^مش\s*كدا$/i,
    /^مش\s*تمام$/i,
    /^مش\s*صح(ي)?$/i,
    /^مش\s*معقول$/i,
    /^مش\s*ممكن$/i,
    /^ماشي$/i,
    /^ما\s*ينفعش$/i,
    /^لا\s*أظن$/i,
    /^لا\s*أعتقد$/i,
    /^مش\s*دلوقتي$/i,
    /^مش\s*موجود(ة)?$/i,
    /^لا\s*يوجد$/i,
    /^مش\s*ينفع$/i,
    /^مش\s*قادر$/i,
    /^مش\s*عايز(ة)?$/i,
    /^مش\s*لازم$/i,
    /^مش\s*مفروض$/i,
    /^مش\s*شغال(ة)?$/i,
    /^مش\s*مناسب(ة)?$/i,
    /^مش\s*حلو(ة)?$/i,
    /^لا\s*أوافق$/i,
    /^لا\s*أريد$/i,
    /^مش\s*فاهم(ة)?$/i,
    /^مش\s*عارف(ة)?$/i,
    /^مش\s*سامع(ة)?$/i,
    /^مش\s*شايف(ة)?$/i,
    /^مش\s*هعرف( أعمل)?$/i,
    /^مش\s*حابب(ة)?$/i,
    /^مش\s*ناوي(ة)?$/i,
    /^مش\s*مهتم(ة)?$/i,
    /^مش\s*فارقة\s*معايا( قوي)?$/i,
    /^مش\s*عايز أعمل$/i,
    /^مش\s*عندي( وقت)?$/i
  ],
  getResponse: () => {
    const responses = [
      "حسنا",
      "تمام",
      "مفهوم",
      "تمام كده",
      "تم",
      "حاضر",
      "تمام، شكرًا",
      "فهمت عليك",
      "تمام، لا مشكلة",
      "موافق",
      "تمام، شكراً للتوضيح",
      "تم الاستلام",
      "أكيد",
      "تمت الملاحظة",
      "حسنًا، سأقوم بذلك",
      "تمام، فهمت",
      "شكرًا لك",
      "حاضر، على الرحب والسعة",
      "تم، في خدمتك",
      "فهمت قصدك",
      "حسناً، على بركة الله",
      "تم الأمر"
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
},

          {
    topic: 'project_cost',
    keywords: [
        'سعر', 'تكلفة', 'بكام', 'كم تدفع', 'تكلفه المشروع', 'فلوس', 'تمن', 'كم سعر', 'ميزانيه', 'الدفع', 'عرض سعر', 'ثمن'
    ],
    patterns: [
        /كم (سعر|تكلفة) (المشروع|الخدمة)\s*(\?)*$/i,
        /بكام (الشغل|الخدمه|المشروع)\s*(\?)*$/i,
        /ايه (سعر|تكلفة) الباقه\s*(\?)*$/i,
        /هل في عرض سعر\s*(\?)*$/i,
        /عايز اعرف السعر\s*(\?)*$/i,
        /قد ايه بيدفع العميل\s*(\?)*$/i,
        /كام ممكن يكلفني\s*(\?)*$/i,
        /كم بتاخذوا مقابل المشروع\s*(\?)*$/i
    ],
    getResponse: () => {
        const responses = [
            'تحديد السعر بيعتمد على حجم المشروع، ومدى تعقيده، ومدته. نقدر نديك عرض سعر بعد ما نعرف التفاصيل.',
            'كل مشروع بيكون ليه متطلبات مختلفة، والسعر بيتحدد بناءً على تحليل دقيق للطلبات.',
            'مفيش سعر ثابت، بس بمجرد ما نتكلم عن فكرتك ونفهمها، هنقدم لك عرض سعر مناسب.',
            'احنا بنشتغل بنظام مخصص، يعني نسمعك الأول، وبعدها نديك تقدير دقيق يناسبك.',
            'التكلفة بتختلف حسب حجم العمل والمجال، لكن دايمًا نضمن أفضل قيمة مقابل السعر.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},
  {
    topic: 'company_leader_identity',
    keywords: [
        'المؤسس', 'المدير', 'صاحب', 'مين المسؤول', 'رئيس', 'من يدير', 'من هو صاحب', 'مين اللي ماسك',
        'مين اللي عامل', 'مين بدأ', 'مين اسس', 'قائد', 'اداره', 'مدير الشركه', 'رئيس الشركه',
        'قائد المؤسسه', 'من ورا الشركه', 'مين ماسك', 'مين في الاداره', 'الرجل الاول', 'صاحب الشركه',
        'صاحب الفكره', 'الاداري', 'القياده', 'من المؤسس', 'فريق الاداره', 'مين المطور', 'المطور الرئيسي',
        'البرمجيه بتاعت مين', 'مالك', 'مالك المؤسسه', 'مسؤول الشركه', 'صاحب البزنس', 'مين المدير العام',
        'مين الاونر', 'مين المالك', 'الاونر', 'المؤسس الحقيقي', 'رأس الهرم', 'صانع الفكره', 'مين المطور الاساسي',
        'مين انشأ', 'مين بدأ البزنس', 'صاحب المشروع', 'الريس', 'من أنشأ'
    ],
    patterns: [
        /(من هو|مين) (المؤسس|المدير|صاحب المشروع|مالك الشركه|الرئيس|الاونر|صاحب الفكره)/i,
        /مين (بيمسك|بيدير|اسس|بدأ|وراء) (الشركه|النظام|المشروع|المؤسسه)/i,
        /(مين المسؤول|مين المطور|مين انشأ|من انشأ)/i
    ],
    getResponse: () => {
        const responses = [
            'المسؤول الإداري عن هذا الكيان هو "فيوتشر"، وهو يفضل أن تبقى هويته خلف الستار لضمان تركيز العمل على الجودة وليس الأشخاص.',
            'يقود المشروع "فيوتشر"، شخصية تقنية متقدمة تفضل الغموض وتعمل في صمت.',
            'فريق العمل تحت قيادة شخص يُعرف باسم "فيوتشر"، وهو يحب إبقاء هويته سريّة احترامًا لفلسفة المشروع.',
            'صاحب هذا العمل هو "فيوتشر"، ولا يفضل الظهور الإعلامي بل يُفضّل أن يتحدث الإنجاز نيابة عنه.',
            '"فيوتشر" هو المدير العام، ويتبع أسلوب القيادة من الخلف، حيث يركز على النتائج لا على الواجهة.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},

{
    topic: 'company_name_meaning',
    keywords: [
        'اسمكم', 'اسم الشركه', 'codex', 'كوديكس', 'كودكس', 'يعني ايه كودكس', 'معنى الاسم', 'اسم الموقع',
        'اسم البراند', 'ليه اسمكم كودكس', 'وش معنى كودكس', 'وش معنا كودكس', 'ايه معنا اسمكم',
        'اسم المؤسسه', 'ليه اخترتوا الاسم ده', 'الاسم دا اختارتوه ليه', 'شو معنا الاسم',
        'شو اسم الشركه', 'وش اسمكم', 'وش هو codex', 'اسمكم جاي من ايه', 'اصل الاسم', 'وش تعني كودكس',
        'من وين جاي اسمكم', 'هل الاسم له معنى', 'هل codex كلمه تقنيه', 'اسم تقني', 'هل هو مصطلح',
        'هل اسمكم اختصار', 'هل codex اختصار', 'ماذا يعني codex', 'معنى codex', 'مغزى الاسم',
        'اسم له معنى؟', 'ايش معنا codex', 'هل الاسم له دلاله', 'اسمكم يدل على ايه', 'وش يدل اسمكم',
        'اسم الشركه غريب', 'اسمكم غريب', 'معنى كلمة codex', 'معنى كلمه كودكس', 'اسم مميز',
        'ليش سميتوا نفسكم كودكس', 'ايه علاقه الاسم بالشغل', 'الاسم دا جاي منين', 'الاسم دا اجنبي؟',
        'ليه الاسم اجنبي', 'ليه مش اسم عربي', 'اسمكم عالمي؟', 'اسم دولي؟', 'هل في معنى للاسم',
        'اسم برمجي؟', 'اسم تقني؟', 'هل الاسم من اللاتينيه', 'هل هو اسم له قصه؟', 'ليه الاسم دا بالانجليزي',
        'هل كلمه codex معناها كتاب؟', 'هل كلمه codex معناها كود؟', 'كلمه codex اصلها ايه؟',
        'اسمكم له خلفيه تقنيه؟', 'منين جبتوا الاسم', 'ليه سميتوه كدا', 'من اختار الاسم؟',
        'اسم تجاري؟', 'اسم براند؟', 'ماذا يرمز اسمكم؟', 'ليه سميتوا المنصه كودكس؟',
        'الاسم دا رمز لايه؟', 'هل هو علامه تجاريه؟', 'ليه الاسم مش عربي؟', 'هل اسمكم مسجل؟',
        'هل الاسم عالمي؟', 'هل الاسم موجود في لغات تانيه؟', 'هل الاسم معناه كود؟',
        'هل codex يعني دليل؟', 'هل codex يعني شفره؟', 'ما دلاله codex', 'هل codex تعني كتاب الكود؟',
        'هل codex مستمد من كلمه قديمه؟', 'ليه الاسم فخم كدا؟', 'اسم له هيبه', 'ليه الاسم كدا ثقيل؟',
        'هل الاسم مستلهم؟', 'مين اللي سماه كدا؟', 'الاسم كان فكره مين؟', 'ليه مش سميتوه tech؟',
        'ليه مش اسم عربي؟', 'هل اسمكم عالمي؟', 'هل هو معروف؟', 'هل الاسم نادر؟',
        'ايه القصه ورا الاسم؟', 'اسمكم بيلفت النظر', 'اسم غريب بس فخم', 'اسم جذاب', 'اسم تقني',
        'اسم احترافي', 'اسم متطور', 'ليه الاسم دا مميز؟'
    ],
    patterns: [
        /(ما (اسم|معنى|مغزى)) (الشركه|الموقع|الاسم|البراند)/i,
        /(ليه|لماذا|شو|ايش|وش) (اسمكم|اسم الشركه|اخترتوا الاسم)/i,
        /(ما هو|شو هو|وش هو|ايه هو) codex/i,
        /هل (codex|اسمكم) (له معنى|يعني|اختصار|دلاله|رمز|مصطلح)/i,
        /(معنى|اصل|دلاله) (اسمكم|كودكس|codex)/i
    ],
    getResponse: () => {
        const responses = [
            'كلمة "Codex" تعني "المرجع"، وهي مأخوذة من مصطلح لاتيني يدل على الكود أو الكتاب المرمز. اخترنا الاسم لأنه يجمع بين التقنية والمعرفة.',
            '"Codex" هو اسم مستوحى من الكتب البرمجية القديمة التي كانت تُستخدم كدليل للمبرمجين، وهو يعبر عن العمق والفهم البرمجي.',
            'اخترنا اسم "Codex" لأنه يعكس طبيعة عملنا كفريق تقني يقدم حلولًا دقيقة ومنظمة، كما أنه اسم عالمي واحترافي.',
            'الاسم "Codex" ليس مجرد اسم، بل هو رمز لفلسفة العمل القائم على النظام، الدقة، والمعرفة التقنية المتقدمة.',
            'اسم "Codex" يعكس قوتنا التقنية، ورغبتنا في أن نكون مرجعًا لكل من يبحث عن الجودة والاحتراف في عالم البرمجة.'
        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},

// --- Central D-B ----> Future Founder ---

{
    topic: 'miscellaneous_general',
    keywords: [
        // أسئلة عامة ومصطلحات متنوعة
        'ليه', 'ايه', 'كيف', 'ماذا', 'وش', 'وين', 'امتى', 'كم', 'ليش', 'لماذا', 'متى',
        'هل', 'فين', 'شو', 'ليه', 'ممكن', 'كيف الحال', 'شو الوضع', 'حالة الطقس',
        'اكيد', 'بصراحة', 'شو رايك', 'ممكن تساعدني', 'ايه اخبارك', 'ليش كده', 'فين الاقي',
        'كيف اعمل', 'كيف اسوي', 'ماذا يعني', 'ايش معنى', 'كيف احصل على', 'منين',
        'ايش اسم', 'كم سعر', 'ايش افضل', 'ليش ما', 'شو الفرق بين', 'هل انت',
        'هل ممكن', 'هل تعرف', 'كيف تتصرف', 'هل عندك', 'متى الوقت', 'هل صحيح',
        'ما هي', 'كيف اجد', 'هل يمكن', 'هل تسمح', 'ماذا تفعل', 'هل انت',
        'ايش حالك', 'شو الأخبار', 'هل سمعت', 'هل جربت', 'شو يعني', 'ليش تحب',
        'كيف تتعامل مع', 'كيف افعل', 'هل تعرف كيف', 'متى اخر مرة', 'ايش بتسوي',
        'هل تحب', 'هل تستطيع', 'هل جربت', 'ما الفرق', 'كيف اقارن', 'هل تعرف',
        'كم مرة', 'هل هناك', 'ايش يعني', 'هل ممكن', 'كم تكلفة', 'ما الفرق بين',
        'كيف استخدم', 'هل تعلم', 'ايش افضل', 'هل يمكنني', 'هل انت ذكي',
        'هل انت روبوت', 'كيف اعرف', 'ايش اسمك', 'كم عمرك', 'هل تعمل', 'هل يوجد',
        'ماذا تفعل لو', 'هل انت موجود', 'هل انت بشري', 'متى تشتغل', 'هل تحب',
        'كيف تصف', 'هل تعرفني', 'كيف تساعدني', 'هل عندك خطة', 'هل انت متصل',
        'هل تعرف اللغة', 'ماذا تفعل', 'كيف تتعلم', 'هل ترغب في', 'هل انت متأكد',
        'هل يوجد دعم', 'ماذا عن', 'هل تعرف الفرق', 'هل يمكنك المساعدة', 'كيف اجعل',
        'ما الذي يحدث', 'هل تستطيع ان', 'هل يوجد شيء', 'هل انت متاح', 'هل تعرف كيفية',
        'هل أنت مستعد', 'هل يمكنني الاعتماد عليك', 'متى تبدأ', 'هل تستطيع شرح',
        'ما هو الهدف', 'هل يمكنك ان تفعل', 'هل يمكن', 'هل يوجد حل', 'هل انت فعلاً',
        'هل يمكنني استخدام', 'هل تعتقد', 'هل تعرف لماذا', 'هل سمعت عن', 'هل يمكنني',
        'هل انت صادق', 'هل يوجد شيء آخر', 'ماذا تفعل الآن', 'هل تتابع', 'هل انت سعيد',
        'هل يمكنني الاعتماد عليك', 'هل لديك معلومات', 'هل يمكن أن تساعدني', 'هل انت متواجد',
        'هل تعرف ماذا', 'هل لديك نصيحة', 'هل انت جيد', 'هل تعرف متى', 'هل يمكنني أن أسأل',
        'هل تعرف من', 'هل يمكنني طلب', 'هل انت بارع', 'هل تريد المساعدة', 'هل انت مبرمج',
        'هل يمكنك إعطائي', 'هل انت إنسان', 'هل انت متصل بالإنترنت', 'هل يوجد خدمة',
        'هل يمكنك شرح', 'هل تفضل', 'هل ترغب في', 'هل يمكنني الاعتماد عليك', 'هل تعرف كيف',
        'هل يوجد برنامج', 'هل انت آلي', 'هل يمكنني التحدث مع', 'هل تعرف السبب', 'هل انت ذكي',
        'هل انت متفاعل', 'هل يمكنك مساعدتي', 'هل انت فعال', 'هل لديك إمكانية',
        'هل انت متطور', 'هل انت مفتوح', 'هل انت متصل', 'هل يمكنني الاعتماد على',
        'هل يمكنني التحدث', 'هل تعرف معنى', 'هل يمكنني الاعتماد', 'هل تعرف معلومات',
        'هل انت مدعوم', 'هل يمكنني معرفة', 'هل انت موجود', 'هل يمكنك شرح',
        'هل انت مبرمج', 'هل يمكنني الاعتماد عليك', 'هل انت موجود', 'هل يمكنك المساعدة',
        'هل تستطيع', 'هل انت ذكي', 'هل انت آلي', 'هل يمكنني', 'هل انت متصل',
        'هل يمكنني الاعتماد عليك', 'هل تعرف', 'هل انت فعال', 'هل انت متفاعل',
        'هل يمكنني الاعتماد على', 'هل انت موجود', 'هل تستطيع مساعدتي', 'هل تعرف كيف',
        'هل يمكنك التحدث', 'هل تعرف', 'هل انت موجود', 'هل انت آلي', 'هل يمكنك',
        'هل انت ذكي', 'هل انت مبرمج', 'هل انت متصل', 'هل يمكنك', 'هل تعرف',
        'هل انت ذكي', 'هل انت مبرمج', 'هل انت متفاعل', 'هل انت آلي', 'هل يمكنني',
        'هل انت موجود', 'هل يمكنك مساعدتي', 'هل يمكنك التحدث', 'هل انت فعال',
        'هل يمكنني الاعتماد عليك', 'هل انت متصل', 'هل يمكنك المساعدة', 'هل تعرف',
        'هل انت ذكي', 'هل انت مبرمج', 'هل انت موجود', 'هل يمكنك', 'هل انت فعال',
        'هل انت آلي', 'هل انت ذكي', 'هل انت مبرمج', 'هل انت متصل', 'هل انت موجود',
        'هل انت ذكي', 'هل يمكنك المساعدة', 'هل انت موجود', 'هل انت متفاعل', 'هل انت مبرمج',
        'هل انت آلي', 'هل انت متصل', 'هل انت فعال', 'هل انت موجود', 'هل يمكنك التحدث'
    ],
    patterns: [
        /^(ليه|لماذا|ما السبب|ايش السبب|ما هو السبب|ليش) /i,
        /^(كيف|كيف حال|كيف اعمل|كيف اسوي|كيف أستخدم) /i,
        /^(هل|هل يمكن|هل تستطيع|هل تعرف|هل يوجد) /i,
        /^(متى|امتى|متى يبدأ|متى ينتهي|متى يحصل) /i,
        /^(شو|وش|شو رايك|وش رايك) /i,
        /^(كم|بكم|كم سعر|كم تكلفة) /i,
        /^(ايش|ما هو|ما هي|ما معنى) /i,
        /^(ماذا|ماذا تفعل|ماذا يعني) /i,
        /^(من|مين|من هو|مين هو) /i,
        /^(فين|أين|وين) /i,
        /^(هل يمكنني|هل استطيع) /i,
        /^(هل انت|هل أنت|هل انتم) /i,
        /^(هل تعرف كيف) /i,
        /^(هل لديك) /i,
        /^(هل تحب) /i,
        /^(هل تريد) /i,
        /^(هل يوجد) /i,
        /^(هل سمعت) /i,
        /^(هل جربت) /i,
        /^(هل يمكنني التحدث) /i,
        /^(هل يوجد حل) /i,
        /^(هل انت موجود) /i,
        /^(هل يمكنني الاعتماد عليك) /i,
        /^(هل تستطيع شرح) /i,
        /^(هل تعرف متى) /i,
        /^(هل انت ذكي) /i,
        /^(هل انت روبوت) /i,
        /^(هل انت مبرمج) /i,
        /^(هل يمكنني استخدام) /i,
        /^(هل تعرف الفرق) /i,
        /^(هل يوجد برنامج) /i,
        /^(هل انت متصل) /i,
        /^(هل تحب) /i,
        /^(هل تريد المساعدة) /i,
        /^(هل انت فعال) /i,
        /^(هل تعرف ماذا) /i,
        /^(هل انت مستعد) /i,
        /^(هل تعرف السبب) /i,
        /^(هل تعرف متى) /i,
        /^(هل يمكنني طلب) /i,
        /^(هل يمكنني التحدث مع) /i,
        /^(هل انت موجود) /i,
        /^(هل تستطيع مساعدتي) /i,
        /^(هل تعرف من) /i,
        /^(هل يمكنني الاعتماد) /i,
        /^(هل تعرف معنى) /i,
        /^(هل يمكنني معرفة) /i,
        /^(هل لديك نصيحة) /i,
        /^(هل انت جيد) /i,
        /^(هل يمكنك شرح) /i,
        /^(هل يمكنك مساعدتي) /i,
        /^(هل انت مدعوم) /i,
        /^(هل انت متفاعل) /i,
        /^(هل يمكنك التحدث) /i,
        /^(هل انت فعال) /i,
        /^(هل تستطيع) /i,
        /^(هل انت ذكي) /i,
        /^(هل انت آلي) /i,
        /^(هل انت متصل) /i,
        /^(هل يمكنني الاعتماد عليك) /i
    ],
    getResponse: () => {
        const responses = [
[
  ' سؤالك قابل للإجابة، لكن للأسف لا يدخل ضمن نطاق اختصاص هذا النظام اذا تود النسختي الشامله تواصل مع الفريق التقني بالديسكورد .',
]

        ];
        return responses[Math.floor(Math.random() * responses.length)];
    }
},

{
  topic: 'services',
  keywords: [
    'خدمات', 'تقدمون', 'تقدموا', 'توفر', 'توفروا', 'بتقدموا ايه', 'بتقدمون ايه', 'ما تقدمونه',
    'ما خدماتكم', 'ما هي خدماتكم', 'ما الذي تقدمونه', 'ايه الخدمات الي عندكم', 'ايه نوع شغلكم',
    'ايه بتوفروا', 'بتشتغلوا في ايه', 'هل عندكم خدمات', 'عندكم باقات خدمات', 'ايه شغلكم',
    'وش تشتغلون فيه', 'وش الخدمات المتاحة', 'وش تقدمون', 'شنو الخدمات', 'شنو تشتغلون',
    'شنو تقدمون', 'خدمتكم شنو', 'شنو مجالات عملكم', 'تعاملاتكم تشمل ايه', 'فيه عندكم دعم فني',
    'ايه العروض الي عندكم', 'فيه خطط اشتراك', 'وش طبيعة خدماتكم', 'هل تقدمون حلول برمجية',
    'هل في خدمات مخصصة', 'هل اقدر اطلب خدمة مخصصة', 'هل في خدمات جاهزة', 'هل في باقات جاهزة',
    'انتو بتشتغلوا في ايه', 'الخدمات المتوفرة ايه', 'ممكن تقولي ايه الخدمات', 'خدمتكم تشمل ايه',
    'انتو شغالين في اي مجال', 'هل الخدمات تشمل التصميم', 'الخدمة تشمل صيانة', 'هل تشتغلوا ديفيلوبمنت',
    'تقدروا تبنوا موقع', 'تقدروا تعملوا تطبيق', 'هل بتشتغلوا على باك اند', 'انواع المشروعات اللي بتشتغلوها',
    'هل تقدمون سيرفرات', 'هل في خدمات استضافة', 'هل عندكم api services', 'تفاصيل خدماتكم',
    'لو عايز مشروع منكم', 'هل تقدمون استشارات تقنية', 'هل تشتغلوا ui/ux', 'هل بتوفروا حلول متكاملة',
    'الخدمة عندكم شاملة', 'هل تقدموا خدمة دعم مستمر'
  ],
  patterns: [],
  getResponse: () => {
    const responses = [
      'نحن نقدم مجموعة متنوعة من الخدمات البرمجية تشمل تصميم وبرمجة المواقع، تطوير تطبيقات الهاتف، أنظمة إدارة متقدمة، حلول ذكاء اصطناعي، وتكامل مع منصات متعددة.',
      'خدماتنا تشمل كل ما يتعلق بتقنيات الويب، السيرفرات، الدعم الفني، الصيانة، والتطوير حسب الطلب.',
      'نحن نعمل على تقديم حلول متكاملة من أول الفكرة وحتى الإطلاق، مع دعم فني مستمر وتحديثات دورية.',
      'سواء كنت تبحث عن مشروع مخصص أو حلول جاهزة، نحن نوفر خدمات احترافية مرنة وقابلة للتخصيص.',
      'نقدم استشارات تقنية، إدارة سيرفرات، تصميم واجهات احترافية، ربط مع API، ودعم تقني سريع لأي مشروع.'
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
},


{
  topic: 'contact',
  keywords: [
    'تواصل', 'التواصل', 'اريد التواصل', 'كيف اتواصل', 'بتكلموا منين', 'اكلمكم ازاي', 'ازاي اتواصل معاكم',
    'اكلم مين', 'ابعتلكم فين', 'فين اقدر اتواصل', 'هل في رقم', 'عندكم رقم', 'رقم تليفون', 'رقم هاتف',
    'اقدر اتكلم مع حد', 'اتحدث مع المسؤول', 'اتكلم مع مدير', 'اكلم الدعم', 'ابعتلكم', 'في وسيلة تواصل',
    'فيه طريقة اتواصل بيها', 'اكلمكم على فين', 'على ايه اقدر اتواصل', 'فين المكان اللي اقدر اكلمكم فيه',
    'بتردوا على فين', 'وين اقدر اكلمكم', 'اريد وسيلة تواصل', 'شلون اتواصل معاكم', 'وش وسيلة الاتصال',
    'هل في واتساب', 'هل في بريد', 'هل في ايميل', 'هل عندكم support', 'هل اقدر اتراسل معاكم',
    'في وسيلة اقدر ارسل فيها', 'هل اقدر ابعتلكم', 'هل يوجد شات مباشر', 'في دعم مباشر', 'هل اقدر اكلم بوت',
    'هل اقدر ابعت سؤال', 'اين التواصل', 'كيف اراسل الدعم', 'ارسل ازاي', 'فين الرابط بتاع التواصل',
    'الدعم فين', 'انا عايز اكلم حد', 'فين اقدر ابعت مشروعي', 'لو عايزكم اتكلم فين', 'فين اقدر اسأل سؤال',
    'هل يوجد شخص للرد', 'الطريقه الوحيدة للتواصل', 'عندكم تذاكر دعم', 'التواصل السريع فين'
  ],
  patterns: [],
  getResponse: () => {
    const responses = [
      'للتواصل معنا، يرجى الانضمام إلى سيرفر الديسكورد الرسمي الخاص بنا. نحن متواجدون هناك على مدار الساعة.',
      'نحن نعتمد كلياً على سيرفر الديسكورد في جميع عمليات التواصل والدعم. رابط السيرفر موجود في موقعنا.',
      'أي استفسار أو تواصل يتم حصريًا عبر سيرفر Discord الخاص بنا. فريقنا بانتظارك هناك.',
      'من أجل تجربة دعم أفضل وأسرع، تواصل معنا مباشرة من خلال ديسكورد. لا توجد وسائل تواصل أخرى معتمدة.',
      'سيرفر الديسكورد الخاص بنا هو القناة الرسمية الوحيدة للتواصل والدعم، وستجد فيه كل ما تحتاج إليه.'
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
},

{
  topic: 'contact_support',
  keywords: [
    'كيف اتواصل', 'طريقة التواصل', 'اكلم مين', 'اتكلم مع مين', 'عايز اتواصل',
    'وسيلة اتصال', 'ارقام التواصل', 'رقم التواصل', 'رقم الواتس', 'واتساب',
    'ممكن اكلمك', 'كلمني', 'اكلمكم', 'تواصل', 'بتردوا منين', 'اتواصل معاكم',
    'دردشه', 'محادثه', 'تشات', 'دعم فني', 'فنيين', 'مساعده', 'احتاج تواصل',
    'سيستم الدعم', 'الدعم الفني', 'دعمكم', 'فين الدعم', 'ممكن مساعده', 'لو سمحت',
    'خدمة العملاء', 'خدمة الزباين', 'خدمة الزبائن', 'خدمة المشتركين', 'ابعتلكم',
    'ابعت لك', 'ارسل لك', 'كيف ارسلكم', 'اشوفك فين', 'فين مكانك', 'اكلم الاداره',
    'بتردوا ازاي', 'كيف التواصل', 'في وسيله تواصل', 'محتاج اكلمكم', 'كلمتكم',
    'اكلم الدعم', 'اكلم البوت', 'اكلم موظف', 'كلم موظف', 'فين وسيله', 'عندكم بريد',
    'عندكم ايميل', 'ارسل ايميل', 'ابعت على الاميل', 'ادارة الموقع', 'رقم الاداره',
    'اكلم المدير', 'رقمك', 'انستجرام', 'تيليجرام', 'اتواصل ازاي', 'من وين اتواصل',
    'كيف احكي معكم', 'كيف احكي معك', 'ارسل رساله', 'اتحدث معكم', 'مع مين احكي',
    'ارسل تذكرة', 'رسالة دعم', 'تواصل مباشر', 'لينك تواصل', 'كلمنا', 'اكلمك ازاي',
    'رقم خدمه العملاء', 'سيب رقمك', 'تواصل معنا', 'معكم احد؟', 'في احد؟',
    'هل ممكن اكلم حد؟', 'فين فريق الدعم', 'رد سريع', 'هل في طريقه اكلمكم',
    'وسيلة للتواصل', 'هل في رابط', 'كيف اتواصل معاكم', 'اريد التواصل', 'ارسل لكم',
    'اتواصل معك', 'كيف اكلم المسؤول', 'كلم المدير', 'اكلم مسؤول', 'ابعت على الخاص',
    'تواصلوا معي', 'في مسؤول اونلاين', 'ايش طريقه التواصل', 'اريد مساعده', 'اريد دعم',
    'اريد رقمكم', 'محتاج اكلم', 'عايز اسال حاجه', 'اسال سؤال', 'محادثه خاصه',
    'اريد مكالمة', 'هاتفيًا', 'اتصل بي', 'بتردوا امتى', 'كلموني', 'بكلم مين',
    'مين بيرد هنا', 'مين بيتابع', 'اكلمك فين', 'بتردوا فين', 'كيف المراسله'
  ],
  patterns: [
    /كيف (يمكنني|اقدر)? ?(التواصل|اكلمك|اتواصل معكم)/i,
    /(اريد|حابب|محتاج) ?(اكلمكم|تواصل|مساعده)/i,
    /ارقام التواصل|رقم الدعم|رقم التليفون/i,
    /هل يوجد دعم (فني|تقني)?/i,
    /هل في (تشات|شات|محادثه)/i,
    /فين الدعم|فين اكلمكم|فين التواصل/i
  ],
  getResponse: () => {
    const responses = [
      'يسعدنا تواصلك معنا! الطريقة الرسمية الوحيدة للتواصل هي عبر سيرفر الديسكورد الخاص بنا.',
      'لأي استفسار أو دعم، تفضل بالدخول إلى سيرفر الديسكورد الرسمي الخاص بنا وسنكون بانتظارك هناك.',
      'نحن نوفر دعمًا مباشرًا داخل ديسكورد فقط لضمان جودة الخدمة. انضم إلينا عبر الرابط المخصص.',
      'جميع طلبات الدعم تتم فقط من خلال ديسكورد. لا نعتمد أي وسيلة تواصل خارج المنصة.',
      'للتحدث معنا أو طرح أي سؤال، انضم إلى مجتمعنا على ديسكورد عبر الرابط الرسمي.'
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
},
{
  topic: 'capabilities_info',
  keywords: [
    'قدراتك', 'إمكانياتك', 'ممكن تعمل ايه', 'بتعرف تعمل ايه', 'بتقدر تعمل ايه',
    'ايه شغلك', 'وظيفتك ايه', 'شغلتك ايه', 'بتشتغل في ايه', 'ايه قدراتك',
    'ايه بتفهم فيه', 'فاهم ايه', 'ايه امكانياتك', 'وظيفتك هنا', 'ايه دورك',
    'ايه بتسوي', 'وش تسوي', 'ايش شغلك', 'وش تقدر تسوي', 'وش تقدر عليه',
    'شنو تقدر تدير', 'شنو خدمتك', 'شنو كتسوا', 'شنو كتدير', 'كتدير شنو',
    'وش مهمتك', 'شنو مهمتك', 'وش عندك من قدرات', 'عندك قدرات ايه', 'شنو كتفهم',
    'وش تفهم', 'وش تعرف تسوي', 'وش بتعرف', 'انت شغلك ايه', 'انت دورك ايه',
    'انت بتعمل ايه', 'انت كيانك ايه', 'انت تشتغل في ايه', 'انت مبرمج؟',
    'انت مساعد؟', 'انت مطور؟', 'انت روبوت؟', 'انت ذكاء صناعي؟',
    'بتفهم في البرمجة؟', 'تفهم في البرمجه؟', 'تفهم تحليل؟', 'تفهم مشاريع؟',
    'تفهم شات؟', 'تعرف تجاوب؟', 'مين انت؟', 'انت فاهم؟', 'انت عبقري؟',
    'كم نسبة ذكاءك؟', 'عندك تحليل؟', 'عندك تقنيات؟', 'تقدر تبرمج؟',
    'تعرف اكواد؟', 'تفهم في الكود؟', 'تقدر تعمل مشروع؟', 'تقدر تفهمني؟',
    'هل تفهمني؟', 'هل عندك قدرات؟', 'ما نوعك؟', 'وش نظامك؟', 'وش خصائصك؟',
    'وش تشتغل بالضبط؟', 'وش تستخدم؟', 'كيف تشتغل؟', 'كيف تفكر؟',
    'وش تقنياتك؟', 'ايش تستخدم؟', 'ايش قدراتك؟', 'كيف بتفهم؟', 'هل عندك مهارات؟',
    'ايه وظيفتك بالضبط؟', 'ايه حدودك؟', 'ايه قدراتك الفعليه؟',
    'وش ممكن اسألك؟', 'ماذا يمكنك أن تفعل؟', 'ماذا تقدم؟', 'ما مجالاتك؟',
    'ما الذي تستطيع فعله؟', 'ما طبيعة عملك؟', 'هل يمكنك البرمجة؟', 'هل تحلل؟',
    'هل انت مجرد مساعد؟', 'هل انت انسان؟', 'هل انت روبوت؟',
    'ما اختصاصك؟', 'ايش شغلتك؟', 'كتسوا شنو؟', 'شنو كتفعل؟',
    'وش اللي تشتغل عليه؟', 'وش اللي تستخدمه؟', 'هل انت ذكي؟'
  ],
  patterns: [
    /ما (هي|هيه)* قدراتك/i,
    /(وش|ما هي) (وظيفتك|مهامك|شغلك)/i,
    /هل يمكنك (.*)/i,
    /ماذا تستطيع (.*)/i,
    /ايه قدراتك(.*)/i,
    /شنو كتدير/i,
    /وش تسوي(.*)/i,
    /هل انت ذكي/i,
    /كم نسبة ذكاءك/i,
    /هل تقدر (.*)/i,
    /انت بتفهم في(.*)/i
  ],
  getResponse: () => {
    const responses = [
      'أتمتع بقدرات تحليل عميق، فهم السياق، الرد الذكي، ودمج تقنيات برمجية متقدمة. ولكن في هذه الصفحة، أعمل فقط بنسبة 20٪ من إمكانياتي، لخدمة استفسارات الدعم والمساعدة.',
      'أنا نظام ذكاء صناعي يستخدمه فريق Codex لأداء مهام معقدة تشمل التحليل، البرمجة، وخدمة العملاء. لكن تم تخصيص جزء بسيط من قدراتي هنا لمساعدتك.',
      'قدراتي تشمل فهم اللغة الطبيعية، البرمجة، بناء المشاريع، والتفاعل البشري، لكن في هذه الصفحة أقوم فقط بدور مساعد ذكي مخصص للإجابة على أسئلتك بدقة.',
      'أستخدم نماذج تحليل متقدمة وذكاء اصطناعي حديث من تطوير Codex. في هذه المنصة، أعمل ضمن حدود معينة لضمان تجربة دعم احترافية.',
      'أنا مبرمج داخليًا لأداء مهام متقدمة جداً. لكن في هذا القسم أعمل كمساعد ذكي لدعم الاستفسارات التقنية العامة بنسبة محددة فقط من إمكانياتي الكاملة.'
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
},

// --- Default Fallback متقدم جداً ---
{
  topic: 'fallback',
  keywords: [],
  patterns: [],
  getResponse: (query = '') => {

function isArabic(text) {
  const normalized = text
    .replace(/[^\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\s]/g, '') // أزل أي شيء غير عربي
    .replace(/\s+/g, '') // أزل الفراغات
    .trim();

  // إذا 70٪ على الأقل من الأحرف عربية، نعتبرها عربية
  const arabicLetters = normalized.match(/[\u0600-\u06FF]/g) || [];
  return arabicLetters.length / (normalized.length || 1) >= 0.7;
}

    // تطبيع عربي عميق مع إزالة التكرار والحروف الزائدة
    function deepNormalize(text) {
      return text
        .toLowerCase()
        .replace(/[إأآ]/g, 'ا')
        .replace(/ى/g, 'ي')
        .replace(/[ؤئ]/g, 'ء')
        .replace(/ة/g, 'ه')
        .replace(/\s+/g, ' ')                        // توحيد الفراغات
        .replace(/[^\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\s]/g, '') // إزالة غير العربية والمسافات
        .trim();
    }

    // تصحيح الأخطاء الشائعة وتوحيد المصطلحات
    function tokenize(text) {
      const corrections = {
        'بكام': 'سعر', 'امتى': 'متى', 'امتا': 'متى',
        'عايز': 'اريد', 'عاوزه': 'اريد', 'عايزة': 'اريد',
        'بتاع': 'خاص', 'خدمه': 'خدمات', 'الخدمه': 'خدمات',
        'المميزات': 'مميزات', 'ليه': 'لماذا', 'هوه': 'هو',
        'زى': 'مثل', 'ازاي': 'كيف', 'مش': 'ليس',
        'ماشي': 'حسنا', 'تمم': 'تمام', 'تمم': 'تمام',
        'اوكي': 'حسنا', 'تمام': 'حسنا', 'الحاجه': 'الشيء',
        'ممكن': 'هل', 'لو': 'اذا', 'لو سمحت': 'رجاء'
      };
      return text.split(' ').map(w => corrections[w] || w);
    }

    // حساب TF-IDF مبسط للتطابق بين نص المستخدم والكلمات المفتاحية
    function tfidfScore(queryTokens, keywordTokens) {
      let common = 0;
      queryTokens.forEach(qt => {
        if (keywordTokens.includes(qt)) common++;
      });
      // التقييم مع التوازن بين طول النصين
      return common / Math.sqrt(queryTokens.length * keywordTokens.length);
    }

    // خوارزمية ليفنشتاين لحساب المسافة مع تحسين الأداء
    function levenshtein(a, b) {
      const dp = Array(b.length + 1).fill(null).map(() => Array(a.length + 1).fill(0));
      for (let i = 0; i <= b.length; i++) dp[i][0] = i;
      for (let j = 0; j <= a.length; j++) dp[0][j] = j;

      for (let i = 1; i <= b.length; i++) {
        for (let j = 1; j <= a.length; j++) {
          const cost = a[j - 1] === b[i - 1] ? 0 : 1;
          dp[i][j] = Math.min(dp[i - 1][j] + 1, dp[i][j - 1] + 1, dp[i - 1][j - 1] + cost);
        }
      }
      return dp[b.length][a.length];
    }

    const normalizedQuery = deepNormalize(query);
    const tokensQuery = tokenize(normalizedQuery);

    // جلب جميع الكلمات المفتاحية وتحويلها إلى توكنز
    const allKeywords = knowledgeBase.flatMap(k => k.keywords);
    const keywordTokensList = allKeywords.map(k => tokenize(deepNormalize(k)));

    // البحث باستخدام TF-IDF لأعلى تطابق (وزن أعلى)
    let bestMatchIndex = -1;
    let bestTfIdf = 0;
    for (let i = 0; i < allKeywords.length; i++) {
      const score = tfidfScore(tokensQuery, keywordTokensList[i]);
      if (score > bestTfIdf) {
        bestTfIdf = score;
        bestMatchIndex = i;
      }
    }

    // إذا كان التطابق عالي (مثلاً أكثر من 0.4) نرجع الإجابة مع اقتراح ذكي
    if (bestTfIdf > 0.4) {
      const keyword = allKeywords[bestMatchIndex];
      return `هل تقصد شيئًا متعلقًا بـ: <b>${keyword}</b>؟ لو توضح لي أكتر، أقدر أساعدك بشكل أفضل.`;
    }

    // لو لم يصلح TF-IDF، جرب ليفنشتاين لأقرب كلمة بمسافة صغيرة مع وزن مقبول (≤ 2)
    let bestLev = Infinity;
    let levKeyword = null;
    for (let i = 0; i < allKeywords.length; i++) {
      const levDist = levenshtein(normalizedQuery, deepNormalize(allKeywords[i]));
      if (levDist < bestLev && levDist <= 2) {
        bestLev = levDist;
        levKeyword = allKeywords[i];
      }
    }
    if (levKeyword) {
      return `هل تقصد شيئًا متعلقًا بـ: <b>${levKeyword}</b>؟ لو توضح لي أكتر، أقدر أساعدك بشكل أفضل.`;
    }

    // أخيراً، الردود الافتراضية المتعددة
    const fallbackResponses = [
      'أنا مؤهل للإجابة على كل ما يخص خدماتنا، مشاريع البرمجة، الأسعار، المميزات، وغيرها. لكن يبدو أن سؤالك خارج هذا النطاق.',
      'سؤالك قد يكون عام جداً أو غير مرتبط بالخدمات التي أقدمها. هل تحب تسأل عن مشروعك أو أي نقطة متعلقة بنا؟',
      'أنا هنا للمساعدة في كل ما يتعلق بالخدمات التقنية. لو تقدر تعيد صياغة سؤالك داخل هذا الإطار هقدر أجاوبك بدقة.',
      'ربما لم يكن سؤالك واضحاً أو غير مرتبط بمجال المساعدة، هل يمكن أن توضحه أكثر؟',
      'سؤال غير معتاد 🤔، لكن أنا جاهز أساعدك لو أوضحت لي المقصود أو كتبت الموضوع بشكل مختلف.'
    ];

    return fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];
  }
}



            
        ];

        
// Ultra-Smart ChatBot System (Codex AI-style) - Arabic-Only Edition with Dialect & Typo Tolerance

// SECURITY: Advanced Anti-Tampering & Anti-Copying System
(function secureBotPage() {
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('keydown', function (e) {
        if (
            e.key === 'F12' ||
            (e.ctrlKey && e.shiftKey && ['I', 'C', 'J'].includes(e.key)) ||
            (e.ctrlKey && e.key === 'U')
        ) {
            e.preventDefault();
        }
    });
(function () {
    let open = false;
    const threshold = 160;

    setInterval(() => {
        const widthThreshold = window.outerWidth - window.innerWidth > threshold;
        const heightThreshold = window.outerHeight - window.innerHeight > threshold;
        if (widthThreshold || heightThreshold) {
            if (!open) {
                alert('⚠️ تم اكتشاف فتح أدوات المطور! هذا النظام محمي.');
                open = true;
            }
        } else {
            open = false;
        }
    }, 1000);
})();

})();

function addMessageToChat(message, sender) {
    const messageElement = document.createElement('div');
    messageElement.classList.add('chat-message', `${sender}-message`);
    messageElement.innerHTML = message;
    chatBody.appendChild(messageElement);
    chatBody.scrollTop = chatBody.scrollHeight;
}

function showTypingIndicator() {
    const indicator = document.createElement('div');
    indicator.classList.add('typing-indicator', 'bot-message');
    indicator.innerHTML = '<span></span><span></span><span></span>';
    indicator.id = 'typing-indicator';
    chatBody.appendChild(indicator);
    chatBody.scrollTop = chatBody.scrollHeight;
}

function hideTypingIndicator() {
    const indicator = document.getElementById('typing-indicator');
    if (indicator) indicator.remove();
}

chatInputForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const userMessage = userInputField.value.trim();
    if (userMessage === '') return;
    addMessageToChat(userMessage, 'user');
    userInputField.value = '';
    showTypingIndicator();
    setTimeout(async () => {
        const analyzed = await analyzeQuery(userMessage);
        const botResponse = getBotResponse(analyzed);
        hideTypingIndicator();
        addMessageToChat(botResponse, 'bot');
    }, 1000);
});

async function analyzeQuery(query) {
    const normalized = normalizeArabic(query);
    return {
        original: query,
        cleaned: normalized,
        keywords: extractKeywords(normalized),
        intent: detectIntent(normalized)
    };
}

function normalizeArabic(text) {
    return text
        .toLowerCase()
        .replace(/[إأآا]/g, 'ا')
        .replace(/ى/g, 'ي')
        .replace(/ؤ/g, 'ء')
        .replace(/ئ/g, 'ء')
        .replace(/ة/g, 'ه');
}

function extractKeywords(text) {
    const stopwords = ['هل', 'ما', 'من', 'في', 'عن', 'على', 'الى', 'او', 'و', 'ثم'];
    const typos = {
        'بكام': 'سعر', 'امتا': 'متى', 'كدا': 'كذا', 'شغل': 'عمل',
        'عندك': 'هل', 'خدماتكو': 'خدمات', 'دعمكم': 'دعم', 'توصيل': 'مدة'
    };
    return text
        .split(/\s+/)
        .map(word => typos[word] || word)
        .filter(word => !stopwords.includes(word));
}

function detectIntent(text) {
    const intents = [
        { intent: 'project_cost', words: ['سعر', 'تكلفة', 'بكام', 'الدفع'] },
        { intent: 'delivery_time', words: ['مدة', 'متى', 'وقت', 'تسليم'] },
        { intent: 'ai_identity_codex', words: ['انت', 'من', 'ذكاء', 'روبوت'] },
        { intent: 'customization', words: ['تعديل', 'مخصص', 'تخصيص'] },
        { intent: 'security', words: ['حماية', 'امن', 'اختراق'] },
        { intent: 'services', words: ['خدمات', 'تقدمون', 'توفر'] }
    ];
    for (let pattern of intents) {
        for (let word of pattern.words) {
            if (text.includes(word)) return pattern.intent;
        }
    }
    return 'general';
}

function getBotResponse(data) {
    for (const category of knowledgeBase) {
        for (const pattern of category.patterns) {
            if (pattern.test(data.cleaned)) return category.getResponse();
        }
        for (const keyword of category.keywords) {
            if (data.keywords.includes(keyword)) return category.getResponse();
        }
        if (category.topic === data.intent) return category.getResponse();
    }
    return knowledgeBase.find(entry => entry.topic === 'unknown' || entry.topic === 'fallback').getResponse();
}

chatToggleBtn.addEventListener('click', () => {
    chatWidget.classList.toggle('open');
    if (chatWidget.classList.contains('open')) userInputField.focus();
});

chatCloseBtn.addEventListener('click', () => {
    chatWidget.classList.remove('open');
});

window.addEventListener('scroll', () => {
    const header = document.getElementById('main-header');
    if (window.scrollY > 10) header.classList.add('shadow-lg');
    else header.classList.remove('shadow-lg');
});
    });

// 🧠 التخزين واسترجاع المحادثات لمدة 5 دقائق
const CHAT_STORAGE_KEY = 'codex_chat_messages';
const CHAT_STORAGE_TIME = 'codex_chat_expiry';
const EXPIRY_MS = 5 * 60 * 1000;

// 🧼 تنظيف بعد 5 دقائق
function clearChatStorage() {
    localStorage.removeItem(CHAT_STORAGE_KEY);
    localStorage.removeItem(CHAT_STORAGE_TIME);
}

// 🧠 حفظ الرسالة
function saveChatMessage(message, sender) {
    const saved = JSON.parse(localStorage.getItem(CHAT_STORAGE_KEY) || '[]');
    saved.push({ message, sender, time: Date.now() });
    localStorage.setItem(CHAT_STORAGE_KEY, JSON.stringify(saved));
    localStorage.setItem(CHAT_STORAGE_TIME, (Date.now() + EXPIRY_MS).toString());
}

// 🧠 استرجاع المحادثة
function restoreChatMessages() {
    const expiry = parseInt(localStorage.getItem(CHAT_STORAGE_TIME));
    if (!expiry || Date.now() > expiry) {
        clearChatStorage();
        return;
    }
    const saved = JSON.parse(localStorage.getItem(CHAT_STORAGE_KEY) || '[]');
    saved.forEach(entry => {
        addMessageToChat(entry.message, entry.sender);
    });
}

// ✅ تعديل كود الإرسال ليدعم التخزين
chatInputForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const userMessage = userInputField.value.trim();
    if (userMessage === '') return;

    addMessageToChat(userMessage, 'user');
    saveChatMessage(userMessage, 'user');
    userInputField.value = '';
    showTypingIndicator();

    setTimeout(() => {
        hideTypingIndicator();
        const botResponse = getBotResponse({ original: userMessage });
        addMessageToChat(botResponse, 'bot');
        saveChatMessage(botResponse, 'bot');
    }, 1000);
});

// ✅ استعادة المحادثة عند تحميل الصفحة
window.addEventListener('DOMContentLoaded', restoreChatMessages);

</script>

</body>
</html>
